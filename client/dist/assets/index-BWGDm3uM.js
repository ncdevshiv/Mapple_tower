var ih=Object.defineProperty;var oh=(e,t,n)=>t in e?ih(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>oh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oc={exports:{}},di={},lc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),ah=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),fh=Symbol.for("react.provider"),hh=Symbol.for("react.context"),ph=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),gh=Symbol.for("react.memo"),yh=Symbol.for("react.lazy"),Sa=Symbol.iterator;function vh(e){return e===null||typeof e!="object"?null:(e=Sa&&e[Sa]||e["@@iterator"],typeof e=="function"?e:null)}var ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uc=Object.assign,cc={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=cc,this.updater=n||ac}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dc(){}dc.prototype=Yn.prototype;function vl(e,t,n){this.props=e,this.context=t,this.refs=cc,this.updater=n||ac}var wl=vl.prototype=new dc;wl.constructor=vl;uc(wl,Yn.prototype);wl.isPureReactComponent=!0;var Ea=Array.isArray,fc=Object.prototype.hasOwnProperty,xl={current:null},hc={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)fc.call(t,r)&&!hc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Br,type:e,key:i,ref:o,props:s,_owner:xl.current}}function wh(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function xh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _a=/\/+/g;function ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xh(""+e.key):t.toString(36)}function vs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Br:case ah:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ji(o,0):r,Ea(s)?(n="",e!=null&&(n=e.replace(_a,"$&/")+"/"),vs(s,t,n,"",function(u){return u})):s!=null&&(Sl(s)&&(s=wh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_a,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ea(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+ji(i,l);o+=vs(i,t,n,a,s)}else if(a=vh(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+ji(i,l++),o+=vs(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jr(e,t,n){if(e==null)return e;var r=[],s=0;return vs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Sh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ws={transition:null},Eh={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ws,ReactCurrentOwner:xl};function mc(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Jr,forEach:function(e,t,n){Jr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jr(e,function(){t++}),t},toArray:function(e){return Jr(e,function(t){return t})||[]},only:function(e){if(!Sl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=Yn;F.Fragment=uh;F.Profiler=dh;F.PureComponent=vl;F.StrictMode=ch;F.Suspense=mh;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eh;F.act=mc;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)fc.call(t,a)&&!hc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Br,type:e.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(e){return e={$$typeof:hh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fh,_context:e},e.Consumer=e};F.createElement=pc;F.createFactory=function(e){var t=pc.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:ph,render:e}};F.isValidElement=Sl;F.lazy=function(e){return{$$typeof:yh,_payload:{_status:-1,_result:e},_init:Sh}};F.memo=function(e,t){return{$$typeof:gh,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};F.unstable_act=mc;F.useCallback=function(e,t){return Ae.current.useCallback(e,t)};F.useContext=function(e){return Ae.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};F.useEffect=function(e,t){return Ae.current.useEffect(e,t)};F.useId=function(){return Ae.current.useId()};F.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Ae.current.useMemo(e,t)};F.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};F.useRef=function(e){return Ae.current.useRef(e)};F.useState=function(e){return Ae.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return Ae.current.useTransition()};F.version="18.3.1";lc.exports=F;var R=lc.exports;const _h=lh(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=R,Th=Symbol.for("react.element"),kh=Symbol.for("react.fragment"),Rh=Object.prototype.hasOwnProperty,Ch=Nh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ah={key:!0,ref:!0,__self:!0,__source:!0};function gc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Rh.call(t,r)&&!Ah.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Th,type:e,key:i,ref:o,props:s,_owner:Ch.current}}di.Fragment=kh;di.jsx=gc;di.jsxs=gc;oc.exports=di;var c=oc.exports,po={},yc={exports:{}},He={},vc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,O){var I=N.length;N.push(O);e:for(;0<I;){var $=I-1>>>1,q=N[$];if(0<s(q,O))N[$]=O,N[I]=q,I=$;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var O=N[0],I=N.pop();if(I!==O){N[0]=I;e:for(var $=0,q=N.length,dt=q>>>1;$<dt;){var ke=2*($+1)-1,vn=N[ke],Jt=ke+1,Xr=N[Jt];if(0>s(vn,I))Jt<q&&0>s(Xr,vn)?(N[$]=Xr,N[Jt]=I,$=Jt):(N[$]=vn,N[ke]=I,$=ke);else if(Jt<q&&0>s(Xr,I))N[$]=Xr,N[Jt]=I,$=Jt;else break e}}return O}function s(N,O){var I=N.sortIndex-O.sortIndex;return I!==0?I:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,m=null,h=3,v=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=N)r(u),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(u)}}function E(N){if(w=!1,g(N),!y)if(n(a)!==null)y=!0,we(T);else{var O=n(u);O!==null&&U(E,O.startTime-N)}}function T(N,O){y=!1,w&&(w=!1,p(L),L=-1),v=!0;var I=h;try{for(g(O),m=n(a);m!==null&&(!(m.expirationTime>O)||N&&!me());){var $=m.callback;if(typeof $=="function"){m.callback=null,h=m.priorityLevel;var q=$(m.expirationTime<=O);O=e.unstable_now(),typeof q=="function"?m.callback=q:m===n(a)&&r(a),g(O)}else r(a);m=n(a)}if(m!==null)var dt=!0;else{var ke=n(u);ke!==null&&U(E,ke.startTime-O),dt=!1}return dt}finally{m=null,h=I,v=!1}}var C=!1,k=null,L=-1,W=5,z=-1;function me(){return!(e.unstable_now()-z<W)}function Ge(){if(k!==null){var N=e.unstable_now();z=N;var O=!0;try{O=k(!0,N)}finally{O?Fe():(C=!1,k=null)}}else C=!1}var Fe;if(typeof f=="function")Fe=function(){f(Ge)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,yn=qe.port2;qe.port1.onmessage=Ge,Fe=function(){yn.postMessage(null)}}else Fe=function(){S(Ge,0)};function we(N){k=N,C||(C=!0,Fe())}function U(N,O){L=S(function(){N(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,we(T))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var I=h;h=O;try{return N()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=h;h=N;try{return O()}finally{h=I}},e.unstable_scheduleCallback=function(N,O,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=I+q,N={id:d++,callback:O,priorityLevel:N,startTime:I,expirationTime:q,sortIndex:-1},I>$?(N.sortIndex=I,t(u,N),n(a)===null&&N===n(u)&&(w?(p(L),L=-1):w=!0,U(E,I-$))):(N.sortIndex=q,t(a,N),y||v||(y=!0,we(T))),N},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(N){var O=h;return function(){var I=h;h=O;try{return N.apply(this,arguments)}finally{h=I}}}})(wc);vc.exports=wc;var bh=vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=R,$e=bh;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xc=new Set,Nr={};function mn(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(Nr[e]=t,e=0;e<t.length;e++)xc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=Object.prototype.hasOwnProperty,Oh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Na={},Ta={};function Ph(e){return mo.call(Ta,e)?!0:mo.call(Na,e)?!1:Oh.test(e)?Ta[e]=!0:(Na[e]=!0,!1)}function jh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ih(e,t,n,r){if(t===null||typeof t>"u"||jh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function _l(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(El,_l);ve[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(El,_l);ve[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(El,_l);ve[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nl(e,t,n,r){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ih(t,n,s,r)&&(n=null),r||s===null?Ph(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bt=Lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),En=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),Sc=Symbol.for("react.provider"),Ec=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Rl=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),_c=Symbol.for("react.offscreen"),ka=Symbol.iterator;function Zn(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Ii;function ur(e){if(Ii===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ii=t&&t[1]||""}return`
`+Ii+e}var zi=!1;function Di(e,t){if(!e||zi)return"";zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{zi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ur(e):""}function zh(e){switch(e.tag){case 5:return ur(e.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 2:case 15:return e=Di(e.type,!1),e;case 11:return e=Di(e.type.render,!1),e;case 1:return e=Di(e.type,!0),e;default:return""}}function wo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case En:return"Portal";case go:return"Profiler";case Tl:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ec:return(e.displayName||"Context")+".Consumer";case Sc:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rl:return t=e.displayName||null,t!==null?t:wo(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return wo(e(t))}catch{}}return null}function Dh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(t);case 8:return t===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fh(e){var t=Nc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=Fh(e))}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xo(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ra(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kc(e,t){t=t.checked,t!=null&&Nl(e,"checked",t,!1)}function So(e,t){kc(e,t);var n=qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Eo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Eo(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ca(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Eo(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cr=Array.isArray;function jn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Aa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(cr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qt(n)}}function Rc(e,t){var n=qt(t.value),r=qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ba(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Ac=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mh=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(e){Mh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});function bc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function Lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Uh=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function To(e,t){if(t){if(Uh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Co=null,In=null,zn=null;function La(e){if(e=Hr(e)){if(typeof Co!="function")throw Error(_(280));var t=e.stateNode;t&&(t=gi(t),Co(e.stateNode,e.type,t))}}function Oc(e){In?zn?zn.push(e):zn=[e]:In=e}function Pc(){if(In){var e=In,t=zn;if(zn=In=null,La(e),t)for(e=0;e<t.length;e++)La(t[e])}}function jc(e,t){return e(t)}function Ic(){}var Fi=!1;function zc(e,t,n){if(Fi)return e(t,n);Fi=!0;try{return jc(e,t,n)}finally{Fi=!1,(In!==null||zn!==null)&&(Ic(),Pc())}}function kr(e,t){var n=e.stateNode;if(n===null)return null;var r=gi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Ao=!1;if(kt)try{var er={};Object.defineProperty(er,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Ao=!1}function Bh(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var mr=!1,Bs=null,Vs=!1,bo=null,Vh={onError:function(e){mr=!0,Bs=e}};function $h(e,t,n,r,s,i,o,l,a){mr=!1,Bs=null,Bh.apply(Vh,arguments)}function Hh(e,t,n,r,s,i,o,l,a){if($h.apply(this,arguments),mr){if(mr){var u=Bs;mr=!1,Bs=null}else throw Error(_(198));Vs||(Vs=!0,bo=u)}}function gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oa(e){if(gn(e)!==e)throw Error(_(188))}function Wh(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Oa(s),e;if(i===r)return Oa(s),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function Fc(e){return e=Wh(e),e!==null?Mc(e):null}function Mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mc(e);if(t!==null)return t;e=e.sibling}return null}var Uc=$e.unstable_scheduleCallback,Pa=$e.unstable_cancelCallback,Gh=$e.unstable_shouldYield,qh=$e.unstable_requestPaint,ie=$e.unstable_now,Yh=$e.unstable_getCurrentPriorityLevel,Al=$e.unstable_ImmediatePriority,Bc=$e.unstable_UserBlockingPriority,$s=$e.unstable_NormalPriority,Kh=$e.unstable_LowPriority,Vc=$e.unstable_IdlePriority,fi=null,gt=null;function Qh(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:Zh,Xh=Math.log,Jh=Math.LN2;function Zh(e){return e>>>=0,e===0?32:31-(Xh(e)/Jh|0)|0}var ns=64,rs=4194304;function dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=dr(l):(i&=o,i!==0&&(r=dr(i)))}else o=n&~s,o!==0?r=dr(o):i!==0&&(r=dr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ot(t),s=1<<n,r|=e[n],t&=~s;return r}function ep(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=ep(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $c(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Mi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function np(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var H=0;function Hc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wc,Ll,Gc,qc,Yc,Oo=!1,ss=[],Ft=null,Mt=null,Ut=null,Rr=new Map,Cr=new Map,jt=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function tr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hr(t),t!==null&&Ll(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sp(e,t,n,r,s){switch(t){case"focusin":return Ft=tr(Ft,e,t,n,r,s),!0;case"dragenter":return Mt=tr(Mt,e,t,n,r,s),!0;case"mouseover":return Ut=tr(Ut,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rr.set(i,tr(Rr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cr.set(i,tr(Cr.get(i)||null,e,t,n,r,s)),!0}return!1}function Kc(e){var t=tn(e.target);if(t!==null){var n=gn(t);if(n!==null){if(t=n.tag,t===13){if(t=Dc(n),t!==null){e.blockedOn=t,Yc(e.priority,function(){Gc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ro=r,n.target.dispatchEvent(r),Ro=null}else return t=Hr(n),t!==null&&Ll(t),e.blockedOn=n,!1;t.shift()}return!0}function Ia(e,t,n){xs(e)&&n.delete(t)}function ip(){Oo=!1,Ft!==null&&xs(Ft)&&(Ft=null),Mt!==null&&xs(Mt)&&(Mt=null),Ut!==null&&xs(Ut)&&(Ut=null),Rr.forEach(Ia),Cr.forEach(Ia)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,ip)))}function Ar(e){function t(s){return nr(s,e)}if(0<ss.length){nr(ss[0],e);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&nr(Ft,e),Mt!==null&&nr(Mt,e),Ut!==null&&nr(Ut,e),Rr.forEach(t),Cr.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)Kc(n),n.blockedOn===null&&jt.shift()}var Dn=bt.ReactCurrentBatchConfig,Ws=!0;function op(e,t,n,r){var s=H,i=Dn.transition;Dn.transition=null;try{H=1,Ol(e,t,n,r)}finally{H=s,Dn.transition=i}}function lp(e,t,n,r){var s=H,i=Dn.transition;Dn.transition=null;try{H=4,Ol(e,t,n,r)}finally{H=s,Dn.transition=i}}function Ol(e,t,n,r){if(Ws){var s=Po(e,t,n,r);if(s===null)Ki(e,t,r,Gs,n),ja(e,r);else if(sp(s,e,t,n,r))r.stopPropagation();else if(ja(e,r),t&4&&-1<rp.indexOf(e)){for(;s!==null;){var i=Hr(s);if(i!==null&&Wc(i),i=Po(e,t,n,r),i===null&&Ki(e,t,r,Gs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ki(e,t,r,null,n)}}var Gs=null;function Po(e,t,n,r){if(Gs=null,e=Cl(r),e=tn(e),e!==null)if(t=gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gs=e,null}function Qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yh()){case Al:return 1;case Bc:return 4;case $s:case Kh:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var zt=null,Pl=null,Ss=null;function Xc(){if(Ss)return Ss;var e,t=Pl,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ss=s.slice(e,1<r?1-r:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function za(){return!1}function We(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:za,this.isPropagationStopped=za,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=We(Kn),$r=re({},Kn,{view:0,detail:0}),ap=We($r),Ui,Bi,rr,hi=re({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(Ui=e.screenX-rr.screenX,Bi=e.screenY-rr.screenY):Bi=Ui=0,rr=e),Ui)},movementY:function(e){return"movementY"in e?e.movementY:Bi}}),Da=We(hi),up=re({},hi,{dataTransfer:0}),cp=We(up),dp=re({},$r,{relatedTarget:0}),Vi=We(dp),fp=re({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=We(fp),pp=re({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mp=We(pp),gp=re({},Kn,{data:0}),Fa=We(gp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wp[e])?!!t[e]:!1}function Il(){return xp}var Sp=re({},$r,{key:function(e){if(e.key){var t=yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ep=We(Sp),_p=re({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=We(_p),Np=re({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),Tp=We(Np),kp=re({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=We(kp),Cp=re({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ap=We(Cp),bp=[9,13,27,32],zl=kt&&"CompositionEvent"in window,gr=null;kt&&"documentMode"in document&&(gr=document.documentMode);var Lp=kt&&"TextEvent"in window&&!gr,Jc=kt&&(!zl||gr&&8<gr&&11>=gr),Ua=" ",Ba=!1;function Zc(e,t){switch(e){case"keyup":return bp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function Op(e,t){switch(e){case"compositionend":return ed(t);case"keypress":return t.which!==32?null:(Ba=!0,Ua);case"textInput":return e=t.data,e===Ua&&Ba?null:e;default:return null}}function Pp(e,t){if(Nn)return e==="compositionend"||!zl&&Zc(e,t)?(e=Xc(),Ss=Pl=zt=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jc&&t.locale!=="ko"?null:t.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jp[e.type]:t==="textarea"}function td(e,t,n,r){Oc(r),t=qs(t,"onChange"),0<t.length&&(n=new jl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,br=null;function Ip(e){fd(e,0)}function pi(e){var t=Rn(e);if(Tc(t))return e}function zp(e,t){if(e==="change")return t}var nd=!1;if(kt){var $i;if(kt){var Hi="oninput"in document;if(!Hi){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Hi=typeof $a.oninput=="function"}$i=Hi}else $i=!1;nd=$i&&(!document.documentMode||9<document.documentMode)}function Ha(){yr&&(yr.detachEvent("onpropertychange",rd),br=yr=null)}function rd(e){if(e.propertyName==="value"&&pi(br)){var t=[];td(t,br,e,Cl(e)),zc(Ip,t)}}function Dp(e,t,n){e==="focusin"?(Ha(),yr=t,br=n,yr.attachEvent("onpropertychange",rd)):e==="focusout"&&Ha()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pi(br)}function Mp(e,t){if(e==="click")return pi(t)}function Up(e,t){if(e==="input"||e==="change")return pi(t)}function Bp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Bp;function Lr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mo.call(t,s)||!at(e[s],t[s]))return!1}return!0}function Wa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ga(e,t){var n=Wa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wa(n)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function id(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function Dl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vp(e){var t=id(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sd(n.ownerDocument.documentElement,n)){if(r!==null&&Dl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ga(n,i);var o=Ga(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $p=kt&&"documentMode"in document&&11>=document.documentMode,Tn=null,jo=null,vr=null,Io=!1;function qa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||Tn==null||Tn!==Us(r)||(r=Tn,"selectionStart"in r&&Dl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vr&&Lr(vr,r)||(vr=r,r=qs(jo,"onSelect"),0<r.length&&(t=new jl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tn)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Wi={},od={};kt&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function mi(e){if(Wi[e])return Wi[e];if(!kn[e])return e;var t=kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in od)return Wi[e]=t[n];return e}var ld=mi("animationend"),ad=mi("animationiteration"),ud=mi("animationstart"),cd=mi("transitionend"),dd=new Map,Ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){dd.set(e,t),mn(t,[e])}for(var Gi=0;Gi<Ya.length;Gi++){var qi=Ya[Gi],Hp=qi.toLowerCase(),Wp=qi[0].toUpperCase()+qi.slice(1);Kt(Hp,"on"+Wp)}Kt(ld,"onAnimationEnd");Kt(ad,"onAnimationIteration");Kt(ud,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(cd,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(fr));function Ka(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hh(r,t,void 0,e),e.currentTarget=null}function fd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ka(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ka(s,l,u),i=a}}}if(Vs)throw e=bo,Vs=!1,bo=null,e}function Q(e,t){var n=t[Uo];n===void 0&&(n=t[Uo]=new Set);var r=e+"__bubble";n.has(r)||(hd(t,e,2,!1),n.add(r))}function Yi(e,t,n){var r=0;t&&(r|=4),hd(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[ls]){e[ls]=!0,xc.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||Yi(n,!1,e),Yi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Yi("selectionchange",!1,t))}}function hd(e,t,n,r){switch(Qc(t)){case 1:var s=op;break;case 4:s=lp;break;default:s=Ol}n=s.bind(null,t,n,e),s=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ki(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}zc(function(){var u=i,d=Cl(n),m=[];e:{var h=dd.get(e);if(h!==void 0){var v=jl,y=e;switch(e){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":v=Ep;break;case"focusin":y="focus",v=Vi;break;case"focusout":y="blur",v=Vi;break;case"beforeblur":case"afterblur":v=Vi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Tp;break;case ld:case ad:case ud:v=hp;break;case cd:v=Rp;break;case"scroll":v=ap;break;case"wheel":v=Ap;break;case"copy":case"cut":case"paste":v=mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ma}var w=(t&4)!==0,S=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,g;f!==null;){g=f;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,p!==null&&(E=kr(f,p),E!=null&&w.push(Pr(f,E,g)))),S)break;f=f.return}0<w.length&&(h=new v(h,y,null,n,d),m.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ro&&(y=n.relatedTarget||n.fromElement)&&(tn(y)||y[Rt]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?tn(y):null,y!==null&&(S=gn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Da,E="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ma,E="onPointerLeave",p="onPointerEnter",f="pointer"),S=v==null?h:Rn(v),g=y==null?h:Rn(y),h=new w(E,f+"leave",v,n,d),h.target=S,h.relatedTarget=g,E=null,tn(d)===u&&(w=new w(p,f+"enter",y,n,d),w.target=g,w.relatedTarget=S,E=w),S=E,v&&y)t:{for(w=v,p=y,f=0,g=w;g;g=wn(g))f++;for(g=0,E=p;E;E=wn(E))g++;for(;0<f-g;)w=wn(w),f--;for(;0<g-f;)p=wn(p),g--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=wn(w),p=wn(p)}w=null}else w=null;v!==null&&Qa(m,h,v,w,!1),y!==null&&S!==null&&Qa(m,S,y,w,!0)}}e:{if(h=u?Rn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var T=zp;else if(Va(h))if(nd)T=Up;else{T=Fp;var C=Dp}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Mp);if(T&&(T=T(e,u))){td(m,T,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Eo(h,"number",h.value)}switch(C=u?Rn(u):window,e){case"focusin":(Va(C)||C.contentEditable==="true")&&(Tn=C,jo=u,vr=null);break;case"focusout":vr=jo=Tn=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,qa(m,n,d);break;case"selectionchange":if($p)break;case"keydown":case"keyup":qa(m,n,d)}var k;if(zl)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Nn?Zc(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Jc&&n.locale!=="ko"&&(Nn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Nn&&(k=Xc()):(zt=d,Pl="value"in zt?zt.value:zt.textContent,Nn=!0)),C=qs(u,L),0<C.length&&(L=new Fa(L,e,null,n,d),m.push({event:L,listeners:C}),k?L.data=k:(k=ed(n),k!==null&&(L.data=k)))),(k=Lp?Op(e,n):Pp(e,n))&&(u=qs(u,"onBeforeInput"),0<u.length&&(d=new Fa("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=k))}fd(m,t)})}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kr(e,n),i!=null&&r.unshift(Pr(e,i,s)),i=kr(e,t),i!=null&&r.push(Pr(e,i,s))),e=e.return}return r}function wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qa(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=kr(n,i),a!=null&&o.unshift(Pr(n,a,l))):s||(a=kr(n,i),a!=null&&o.push(Pr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function Xa(e){return(typeof e=="string"?e:""+e).replace(qp,`
`).replace(Yp,"")}function as(e,t,n){if(t=Xa(t),Xa(e)!==t&&n)throw Error(_(425))}function Ys(){}var zo=null,Do=null;function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mo=typeof setTimeout=="function"?setTimeout:void 0,Kp=typeof clearTimeout=="function"?clearTimeout:void 0,Ja=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ja<"u"?function(e){return Ja.resolve(null).then(e).catch(Xp)}:Mo;function Xp(e){setTimeout(function(){throw e})}function Qi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ar(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ar(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Za(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Qn,jr="__reactProps$"+Qn,Rt="__reactContainer$"+Qn,Uo="__reactEvents$"+Qn,Jp="__reactListeners$"+Qn,Zp="__reactHandles$"+Qn;function tn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Za(e);e!==null;){if(n=e[mt])return n;e=Za(e)}return t}e=n,n=e.parentNode}return null}function Hr(e){return e=e[mt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function gi(e){return e[jr]||null}var Bo=[],Cn=-1;function Qt(e){return{current:e}}function J(e){0>Cn||(e.current=Bo[Cn],Bo[Cn]=null,Cn--)}function Y(e,t){Cn++,Bo[Cn]=e.current,e.current=t}var Yt={},Te=Qt(Yt),Pe=Qt(!1),un=Yt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Yt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function je(e){return e=e.childContextTypes,e!=null}function Ks(){J(Pe),J(Te)}function eu(e,t,n){if(Te.current!==Yt)throw Error(_(168));Y(Te,t),Y(Pe,n)}function pd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_(108,Dh(e)||"Unknown",s));return re({},n,r)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,un=Te.current,Y(Te,e),Y(Pe,Pe.current),!0}function tu(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=pd(e,t,un),r.__reactInternalMemoizedMergedChildContext=e,J(Pe),J(Te),Y(Te,e)):J(Pe),Y(Pe,n)}var Et=null,yi=!1,Xi=!1;function md(e){Et===null?Et=[e]:Et.push(e)}function em(e){yi=!0,md(e)}function Xt(){if(!Xi&&Et!==null){Xi=!0;var e=0,t=H;try{var n=Et;for(H=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,yi=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Uc(Al,Xt),s}finally{H=t,Xi=!1}}return null}var An=[],bn=0,Xs=null,Js=0,Ye=[],Ke=0,cn=null,_t=1,Nt="";function Zt(e,t){An[bn++]=Js,An[bn++]=Xs,Xs=e,Js=t}function gd(e,t,n){Ye[Ke++]=_t,Ye[Ke++]=Nt,Ye[Ke++]=cn,cn=e;var r=_t;e=Nt;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-ot(t)+s|n<<s|r,Nt=i+e}else _t=1<<i|n<<s|r,Nt=e}function Fl(e){e.return!==null&&(Zt(e,1),gd(e,1,0))}function Ml(e){for(;e===Xs;)Xs=An[--bn],An[bn]=null,Js=An[--bn],An[bn]=null;for(;e===cn;)cn=Ye[--Ke],Ye[Ke]=null,Nt=Ye[--Ke],Ye[Ke]=null,_t=Ye[--Ke],Ye[Ke]=null}var Be=null,Ue=null,Z=!1,it=null;function yd(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Ue=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cn!==null?{id:_t,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,Ue=null,!0):!1;default:return!1}}function Vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $o(e){if(Z){var t=Ue;if(t){var n=t;if(!nu(e,t)){if(Vo(e))throw Error(_(418));t=Bt(n.nextSibling);var r=Be;t&&nu(e,t)?yd(r,n):(e.flags=e.flags&-4097|2,Z=!1,Be=e)}}else{if(Vo(e))throw Error(_(418));e.flags=e.flags&-4097|2,Z=!1,Be=e}}}function ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function us(e){if(e!==Be)return!1;if(!Z)return ru(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fo(e.type,e.memoizedProps)),t&&(t=Ue)){if(Vo(e))throw vd(),Error(_(418));for(;t;)yd(e,t),t=Bt(t.nextSibling)}if(ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ue=Bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=Be?Bt(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=Ue;e;)e=Bt(e.nextSibling)}function Vn(){Ue=Be=null,Z=!1}function Ul(e){it===null?it=[e]:it.push(e)}var tm=bt.ReactCurrentBatchConfig;function sr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function wd(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=Wt(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,g,E){return f===null||f.tag!==6?(f=so(g,p.mode,E),f.return=p,f):(f=s(f,g),f.return=p,f)}function a(p,f,g,E){var T=g.type;return T===_n?d(p,f,g.props.children,E,g.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ot&&su(T)===f.type)?(E=s(f,g.props),E.ref=sr(p,f,g),E.return=p,E):(E=As(g.type,g.key,g.props,null,p.mode,E),E.ref=sr(p,f,g),E.return=p,E)}function u(p,f,g,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=io(g,p.mode,E),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function d(p,f,g,E,T){return f===null||f.tag!==7?(f=ln(g,p.mode,E,T),f.return=p,f):(f=s(f,g),f.return=p,f)}function m(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=so(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zr:return g=As(f.type,f.key,f.props,null,p.mode,g),g.ref=sr(p,null,f),g.return=p,g;case En:return f=io(f,p.mode,g),f.return=p,f;case Ot:var E=f._init;return m(p,E(f._payload),g)}if(cr(f)||Zn(f))return f=ln(f,p.mode,g,null),f.return=p,f;cs(p,f)}return null}function h(p,f,g,E){var T=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(p,f,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zr:return g.key===T?a(p,f,g,E):null;case En:return g.key===T?u(p,f,g,E):null;case Ot:return T=g._init,h(p,f,T(g._payload),E)}if(cr(g)||Zn(g))return T!==null?null:d(p,f,g,E,null);cs(p,g)}return null}function v(p,f,g,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(g)||null,l(f,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zr:return p=p.get(E.key===null?g:E.key)||null,a(f,p,E,T);case En:return p=p.get(E.key===null?g:E.key)||null,u(f,p,E,T);case Ot:var C=E._init;return v(p,f,g,C(E._payload),T)}if(cr(E)||Zn(E))return p=p.get(g)||null,d(f,p,E,T,null);cs(f,E)}return null}function y(p,f,g,E){for(var T=null,C=null,k=f,L=f=0,W=null;k!==null&&L<g.length;L++){k.index>L?(W=k,k=null):W=k.sibling;var z=h(p,k,g[L],E);if(z===null){k===null&&(k=W);break}e&&k&&z.alternate===null&&t(p,k),f=i(z,f,L),C===null?T=z:C.sibling=z,C=z,k=W}if(L===g.length)return n(p,k),Z&&Zt(p,L),T;if(k===null){for(;L<g.length;L++)k=m(p,g[L],E),k!==null&&(f=i(k,f,L),C===null?T=k:C.sibling=k,C=k);return Z&&Zt(p,L),T}for(k=r(p,k);L<g.length;L++)W=v(k,p,L,g[L],E),W!==null&&(e&&W.alternate!==null&&k.delete(W.key===null?L:W.key),f=i(W,f,L),C===null?T=W:C.sibling=W,C=W);return e&&k.forEach(function(me){return t(p,me)}),Z&&Zt(p,L),T}function w(p,f,g,E){var T=Zn(g);if(typeof T!="function")throw Error(_(150));if(g=T.call(g),g==null)throw Error(_(151));for(var C=T=null,k=f,L=f=0,W=null,z=g.next();k!==null&&!z.done;L++,z=g.next()){k.index>L?(W=k,k=null):W=k.sibling;var me=h(p,k,z.value,E);if(me===null){k===null&&(k=W);break}e&&k&&me.alternate===null&&t(p,k),f=i(me,f,L),C===null?T=me:C.sibling=me,C=me,k=W}if(z.done)return n(p,k),Z&&Zt(p,L),T;if(k===null){for(;!z.done;L++,z=g.next())z=m(p,z.value,E),z!==null&&(f=i(z,f,L),C===null?T=z:C.sibling=z,C=z);return Z&&Zt(p,L),T}for(k=r(p,k);!z.done;L++,z=g.next())z=v(k,p,L,z.value,E),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?L:z.key),f=i(z,f,L),C===null?T=z:C.sibling=z,C=z);return e&&k.forEach(function(Ge){return t(p,Ge)}),Z&&Zt(p,L),T}function S(p,f,g,E){if(typeof g=="object"&&g!==null&&g.type===_n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zr:e:{for(var T=g.key,C=f;C!==null;){if(C.key===T){if(T=g.type,T===_n){if(C.tag===7){n(p,C.sibling),f=s(C,g.props.children),f.return=p,p=f;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ot&&su(T)===C.type){n(p,C.sibling),f=s(C,g.props),f.ref=sr(p,C,g),f.return=p,p=f;break e}n(p,C);break}else t(p,C);C=C.sibling}g.type===_n?(f=ln(g.props.children,p.mode,E,g.key),f.return=p,p=f):(E=As(g.type,g.key,g.props,null,p.mode,E),E.ref=sr(p,f,g),E.return=p,p=E)}return o(p);case En:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=io(g,p.mode,E),f.return=p,p=f}return o(p);case Ot:return C=g._init,S(p,f,C(g._payload),E)}if(cr(g))return y(p,f,g,E);if(Zn(g))return w(p,f,g,E);cs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,g),f.return=p,p=f):(n(p,f),f=so(g,p.mode,E),f.return=p,p=f),o(p)):n(p,f)}return S}var $n=wd(!0),xd=wd(!1),Zs=Qt(null),ei=null,Ln=null,Bl=null;function Vl(){Bl=Ln=ei=null}function $l(e){var t=Zs.current;J(Zs),e._currentValue=t}function Ho(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fn(e,t){ei=e,Bl=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(ei===null)throw Error(_(308));Ln=e,ei.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var nn=null;function Hl(e){nn===null?nn=[e]:nn.push(e)}function Sd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ct(e,r)}function Ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pt=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ct(e,n)}return s=r.interleaved,s===null?(t.next=t,Hl(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ct(e,n)}function _s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}function iu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ti(e,t,n,r){var s=e.updateQueue;Pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var m=s.baseState;o=0,d=u=a=null,l=i;do{var h=l.lane,v=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(h=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){m=y.call(v,m,h);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(v,m,h):y,h==null)break e;m=re({},m,h);break e;case 2:Pt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=m):d=d.next=v,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=m),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fn|=o,e.lanes=o,e.memoizedState=m}}function ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var Wr={},yt=Qt(Wr),Ir=Qt(Wr),zr=Qt(Wr);function rn(e){if(e===Wr)throw Error(_(174));return e}function Gl(e,t){switch(Y(zr,t),Y(Ir,e),Y(yt,Wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:No(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=No(t,e)}J(yt),Y(yt,t)}function Hn(){J(yt),J(Ir),J(zr)}function _d(e){rn(zr.current);var t=rn(yt.current),n=No(t,e.type);t!==n&&(Y(Ir,e),Y(yt,n))}function ql(e){Ir.current===e&&(J(yt),J(Ir))}var ee=Qt(0);function ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ji=[];function Yl(){for(var e=0;e<Ji.length;e++)Ji[e]._workInProgressVersionPrimary=null;Ji.length=0}var Ns=bt.ReactCurrentDispatcher,Zi=bt.ReactCurrentBatchConfig,dn=0,ne=null,ue=null,fe=null,ri=!1,wr=!1,Dr=0,nm=0;function xe(){throw Error(_(321))}function Kl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function Ql(e,t,n,r,s,i){if(dn=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?om:lm,e=n(r,s),wr){i=0;do{if(wr=!1,Dr=0,25<=i)throw Error(_(301));i+=1,fe=ue=null,t.updateQueue=null,Ns.current=am,e=n(r,s)}while(wr)}if(Ns.current=si,t=ue!==null&&ue.next!==null,dn=0,fe=ue=ne=null,ri=!1,t)throw Error(_(300));return e}function Xl(){var e=Dr!==0;return Dr=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ne.memoizedState=fe=e:fe=fe.next=e,fe}function et(){if(ue===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=fe===null?ne.memoizedState:fe.next;if(t!==null)fe=t,ue=e;else{if(e===null)throw Error(_(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?ne.memoizedState=fe=e:fe=fe.next=e}return fe}function Fr(e,t){return typeof t=="function"?t(e):t}function eo(e){var t=et(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((dn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=m,o=r):a=a.next=m,ne.lanes|=d,fn|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,at(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,fn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function to(e){var t=et(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);at(i,t.memoizedState)||(Oe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Nd(){}function Td(e,t){var n=ne,r=et(),s=t(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,Jl(Cd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Mr(9,Rd.bind(null,n,r,s,t),void 0,null),pe===null)throw Error(_(349));dn&30||kd(n,t,s)}return s}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rd(e,t,n,r){t.value=n,t.getSnapshot=r,Ad(t)&&bd(e)}function Cd(e,t,n){return n(function(){Ad(t)&&bd(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function bd(e){var t=Ct(e,1);t!==null&&lt(t,e,1,-1)}function lu(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=im.bind(null,ne,e),[t.memoizedState,e]}function Mr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ld(){return et().memoizedState}function Ts(e,t,n,r){var s=pt();ne.flags|=e,s.memoizedState=Mr(1|t,n,void 0,r===void 0?null:r)}function vi(e,t,n,r){var s=et();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&Kl(r,o.deps)){s.memoizedState=Mr(t,n,i,r);return}}ne.flags|=e,s.memoizedState=Mr(1|t,n,i,r)}function au(e,t){return Ts(8390656,8,e,t)}function Jl(e,t){return vi(2048,8,e,t)}function Od(e,t){return vi(4,2,e,t)}function Pd(e,t){return vi(4,4,e,t)}function jd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,n){return n=n!=null?n.concat([e]):null,vi(4,4,jd.bind(null,t,e),n)}function Zl(){}function zd(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dd(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fd(e,t,n){return dn&21?(at(n,t)||(n=$c(),ne.lanes|=n,fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function rm(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var r=Zi.transition;Zi.transition={};try{e(!1),t()}finally{H=n,Zi.transition=r}}function Md(){return et().memoizedState}function sm(e,t,n){var r=Ht(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ud(e))Bd(t,n);else if(n=Sd(e,t,n,r),n!==null){var s=Ce();lt(n,e,r,s),Vd(n,t,r)}}function im(e,t,n){var r=Ht(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ud(e))Bd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,at(l,o)){var a=t.interleaved;a===null?(s.next=s,Hl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Sd(e,t,s,r),n!==null&&(s=Ce(),lt(n,e,r,s),Vd(n,t,r))}}function Ud(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Bd(e,t){wr=ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}var si={readContext:Ze,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},om={readContext:Ze,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:au,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4194308,4,jd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sm.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:lu,useDebugValue:Zl,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=lu(!1),t=e[0];return e=rm.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ne,s=pt();if(Z){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),pe===null)throw Error(_(349));dn&30||kd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,au(Cd.bind(null,r,i,e),[e]),r.flags|=2048,Mr(9,Rd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=pt(),t=pe.identifierPrefix;if(Z){var n=Nt,r=_t;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lm={readContext:Ze,useCallback:zd,useContext:Ze,useEffect:Jl,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:Pd,useMemo:Dd,useReducer:eo,useRef:Ld,useState:function(){return eo(Fr)},useDebugValue:Zl,useDeferredValue:function(e){var t=et();return Fd(t,ue.memoizedState,e)},useTransition:function(){var e=eo(Fr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Nd,useSyncExternalStore:Td,useId:Md,unstable_isNewReconciler:!1},am={readContext:Ze,useCallback:zd,useContext:Ze,useEffect:Jl,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:Pd,useMemo:Dd,useReducer:to,useRef:Ld,useState:function(){return to(Fr)},useDebugValue:Zl,useDeferredValue:function(e){var t=et();return ue===null?t.memoizedState=e:Fd(t,ue.memoizedState,e)},useTransition:function(){var e=to(Fr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Nd,useSyncExternalStore:Td,useId:Md,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wi={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),s=Ht(e),i=Tt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(lt(t,e,s,r),_s(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),s=Ht(e),i=Tt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(lt(t,e,s,r),_s(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=Ht(e),s=Tt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(lt(t,e,r,n),_s(t,e,r))}};function uu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,r)||!Lr(s,i):!0}function $d(e,t,n){var r=!1,s=Yt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=je(t)?un:Te.current,r=t.contextTypes,i=(r=r!=null)?Bn(e,s):Yt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wi.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=je(t)?un:Te.current,s.context=Bn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wi.enqueueReplaceState(s,s.state,null),ti(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",r=t;do n+=zh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function no(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var um=typeof WeakMap=="function"?WeakMap:Map;function Hd(e,t,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oi||(oi=!0,rl=r),qo(e,t)},n}function Wd(e,t,n){n=Tt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qo(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function du(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new um;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_m.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tt(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var cm=bt.ReactCurrentOwner,Oe=!1;function Re(e,t,n,r){t.child=e===null?xd(t,null,n,r):$n(t,e.child,n,r)}function pu(e,t,n,r,s){n=n.render;var i=t.ref;return Fn(t,s),r=Ql(e,t,n,r,i,s),n=Xl(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(Z&&n&&Fl(t),t.flags|=1,Re(e,t,r,s),t.child)}function mu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!la(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Gd(e,t,i,r,s)):(e=As(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(o,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=Wt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Lr(i,r)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,At(e,t,s)}return Yo(e,t,n,r,s)}function qd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Pn,Me),Me|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Pn,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(Pn,Me),Me|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Y(Pn,Me),Me|=r;return Re(e,t,s,n),t.child}function Yd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yo(e,t,n,r,s){var i=je(n)?un:Te.current;return i=Bn(t,i),Fn(t,s),n=Ql(e,t,n,r,i,s),r=Xl(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(Z&&r&&Fl(t),t.flags|=1,Re(e,t,n,s),t.child)}function gu(e,t,n,r,s){if(je(n)){var i=!0;Qs(t)}else i=!1;if(Fn(t,s),t.stateNode===null)ks(e,t),$d(t,n,r),Go(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=je(n)?un:Te.current,u=Bn(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&cu(t,o,r,u),Pt=!1;var h=t.memoizedState;o.state=h,ti(t,r,o,s),a=t.memoizedState,l!==r||h!==a||Pe.current||Pt?(typeof d=="function"&&(Wo(t,n,d,r),a=t.memoizedState),(l=Pt||uu(t,n,l,r,h,a,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ed(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nt(t.type,l),o.props=u,m=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ze(a):(a=je(n)?un:Te.current,a=Bn(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==a)&&cu(t,o,r,a),Pt=!1,h=t.memoizedState,o.state=h,ti(t,r,o,s);var y=t.memoizedState;l!==m||h!==y||Pe.current||Pt?(typeof v=="function"&&(Wo(t,n,v,r),y=t.memoizedState),(u=Pt||uu(t,n,u,r,h,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ko(e,t,n,r,i,s)}function Ko(e,t,n,r,s,i){Yd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&tu(t,n,!1),At(e,t,i);r=t.stateNode,cm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=$n(t,e.child,null,i),t.child=$n(t,null,l,i)):Re(e,t,l,i),t.memoizedState=r.state,s&&tu(t,n,!0),t.child}function Kd(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),Gl(e,t.containerInfo)}function yu(e,t,n,r,s){return Vn(),Ul(s),t.flags|=256,Re(e,t,n,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qd(e,t,n){var r=t.pendingProps,s=ee.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(ee,s&1),e===null)return $o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ei(o,r,0,null),e=ln(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xo(n),t.memoizedState=Qo,e):ea(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dm(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Wt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wt(l,i):(i=ln(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Xo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Qo,r}return i=e.child,e=i.sibling,r=Wt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ea(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Ul(r),$n(t,e.child,null,n),e=ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=no(Error(_(422))),ds(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ei({mode:"visible",children:r.children},s,0,null),i=ln(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$n(t,e.child,null,o),t.child.memoizedState=Xo(o),t.memoizedState=Qo,i);if(!(t.mode&1))return ds(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(_(419)),r=no(i,r,void 0),ds(e,t,o,r)}if(l=(o&e.childLanes)!==0,Oe||l){if(r=pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ct(e,s),lt(r,e,s,-1))}return oa(),r=no(Error(_(421))),ds(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Nm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ue=Bt(s.nextSibling),Be=t,Z=!0,it=null,e!==null&&(Ye[Ke++]=_t,Ye[Ke++]=Nt,Ye[Ke++]=cn,_t=e.id,Nt=e.overflow,cn=t),t=ea(t,r.children),t.flags|=4096,t)}function vu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ho(e.return,t,n)}function ro(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Xd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Re(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,n,t);else if(e.tag===19)vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ni(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ro(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ni(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ro(t,!0,n,null,i);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Wt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fm(e,t,n){switch(t.tag){case 3:Kd(t),Vn();break;case 5:_d(t);break;case 1:je(t.type)&&Qs(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Y(Zs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?Qd(e,t,n):(Y(ee,ee.current&1),e=At(e,t,n),e!==null?e.sibling:null);Y(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,qd(e,t,n)}return At(e,t,n)}var Jd,Jo,Zd,ef;Jd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};Zd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,rn(yt.current);var i=null;switch(n){case"input":s=xo(e,s),r=xo(e,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=_o(e,s),r=_o(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ys)}To(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Q("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ef=function(e,t,n,r){n!==r&&(t.flags|=4)};function ir(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hm(e,t,n){var r=t.pendingProps;switch(Ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return je(t.type)&&Ks(),Se(t),null;case 3:return r=t.stateNode,Hn(),J(Pe),J(Te),Yl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(ol(it),it=null))),Jo(e,t),Se(t),null;case 5:ql(t);var s=rn(zr.current);if(n=t.type,e!==null&&t.stateNode!=null)Zd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Se(t),null}if(e=rn(yt.current),us(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mt]=t,r[jr]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<fr.length;s++)Q(fr[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Ra(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Aa(r,i),Q("invalid",r)}To(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&as(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&as(r.textContent,l,e),s=["children",""+l]):Nr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":es(r),Ca(r,i,!0);break;case"textarea":es(r),ba(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ys)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[mt]=t,e[jr]=r,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(o=ko(n,r),n){case"dialog":Q("cancel",e),Q("close",e),s=r;break;case"iframe":case"object":case"embed":Q("load",e),s=r;break;case"video":case"audio":for(s=0;s<fr.length;s++)Q(fr[s],e);s=r;break;case"source":Q("error",e),s=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=r;break;case"details":Q("toggle",e),s=r;break;case"input":Ra(e,r),s=xo(e,r),Q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Aa(e,r),s=_o(e,r),Q("invalid",e);break;default:s=r}To(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Lc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ac(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Tr(e,a):typeof a=="number"&&Tr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Q("scroll",e):a!=null&&Nl(e,i,a,o))}switch(n){case"input":es(e),Ca(e,r,!1);break;case"textarea":es(e),ba(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jn(e,!!r.multiple,i,!1):r.defaultValue!=null&&jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)ef(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=rn(zr.current),rn(yt.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(i=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:as(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return Se(t),null;case 13:if(J(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Ue!==null&&t.mode&1&&!(t.flags&128))vd(),Vn(),t.flags|=98560,i=!1;else if(i=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[mt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else it!==null&&(ol(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?de===0&&(de=3):oa())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Hn(),Jo(e,t),e===null&&Or(t.stateNode.containerInfo),Se(t),null;case 10:return $l(t.type._context),Se(t),null;case 17:return je(t.type)&&Ks(),Se(t),null;case 19:if(J(ee),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ir(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ni(e),o!==null){for(t.flags|=128,ir(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>Gn&&(t.flags|=128,r=!0,ir(i,!1),t.lanes=4194304)}else{if(!r)if(e=ni(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return Se(t),null}else 2*ie()-i.renderingStartTime>Gn&&n!==1073741824&&(t.flags|=128,r=!0,ir(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,n=ee.current,Y(ee,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return ia(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function pm(e,t){switch(Ml(t),t.tag){case 1:return je(t.type)&&Ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),J(Pe),J(Te),Yl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(J(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ee),null;case 4:return Hn(),null;case 10:return $l(t.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var fs=!1,Ee=!1,mm=typeof WeakSet=="function"?WeakSet:Set,b=null;function On(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){se(e,t,r)}}var wu=!1;function gm(e,t){if(zo=Ws,e=id(),Dl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(a=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(a=o),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Do={focusedElem:e,selectionRange:n},Ws=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:nt(t.type,w),S);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(E){se(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return y=wu,wu=!1,y}function xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zo(t,n,i)}s=s.next}while(s!==r)}}function xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tf(e){var t=e.alternate;t!==null&&(e.alternate=null,tf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[jr],delete t[Uo],delete t[Jp],delete t[Zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nf(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ys));else if(r!==4&&(e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nl(e,t,n),e=e.sibling;e!==null;)nl(e,t,n),e=e.sibling}var ge=null,rt=!1;function Lt(e,t,n){for(n=n.child;n!==null;)rf(e,t,n),n=n.sibling}function rf(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(fi,n)}catch{}switch(n.tag){case 5:Ee||On(n,t);case 6:var r=ge,s=rt;ge=null,Lt(e,t,n),ge=r,rt=s,ge!==null&&(rt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(rt?(e=ge,n=n.stateNode,e.nodeType===8?Qi(e.parentNode,n):e.nodeType===1&&Qi(e,n),Ar(e)):Qi(ge,n.stateNode));break;case 4:r=ge,s=rt,ge=n.stateNode.containerInfo,rt=!0,Lt(e,t,n),ge=r,rt=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zo(n,t,o),s=s.next}while(s!==r)}Lt(e,t,n);break;case 1:if(!Ee&&(On(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,t,l)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Lt(e,t,n),Ee=r):Lt(e,t,n);break;default:Lt(e,t,n)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mm),t.forEach(function(r){var s=Tm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,rt=!1;break e;case 3:ge=l.stateNode.containerInfo,rt=!0;break e;case 4:ge=l.stateNode.containerInfo,rt=!0;break e}l=l.return}if(ge===null)throw Error(_(160));rf(i,o,s),ge=null,rt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}function sf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),ft(e),r&4){try{xr(3,e,e.return),xi(3,e)}catch(w){se(e,e.return,w)}try{xr(5,e,e.return)}catch(w){se(e,e.return,w)}}break;case 1:tt(t,e),ft(e),r&512&&n!==null&&On(n,n.return);break;case 5:if(tt(t,e),ft(e),r&512&&n!==null&&On(n,n.return),e.flags&32){var s=e.stateNode;try{Tr(s,"")}catch(w){se(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kc(s,i),ko(l,o);var u=ko(l,i);for(o=0;o<a.length;o+=2){var d=a[o],m=a[o+1];d==="style"?Lc(s,m):d==="dangerouslySetInnerHTML"?Ac(s,m):d==="children"?Tr(s,m):Nl(s,d,m,u)}switch(l){case"input":So(s,i);break;case"textarea":Rc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?jn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?jn(s,!!i.multiple,i.defaultValue,!0):jn(s,!!i.multiple,i.multiple?[]:"",!1))}s[jr]=i}catch(w){se(e,e.return,w)}}break;case 6:if(tt(t,e),ft(e),r&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){se(e,e.return,w)}}break;case 3:if(tt(t,e),ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(w){se(e,e.return,w)}break;case 4:tt(t,e),ft(e);break;case 13:tt(t,e),ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ra=ie())),r&4&&Su(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||d,tt(t,e),Ee=u):tt(t,e),ft(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(b=e,d=e.child;d!==null;){for(m=b=d;b!==null;){switch(h=b,v=h.child,h.tag){case 0:case 11:case 14:case 15:xr(4,h,h.return);break;case 1:On(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){se(r,n,w)}}break;case 5:On(h,h.return);break;case 22:if(h.memoizedState!==null){_u(m);continue}}v!==null?(v.return=h,b=v):_u(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,a=m.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=bc("display",o))}catch(w){se(e,e.return,w)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){se(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:tt(t,e),ft(e),r&4&&Su(e);break;case 21:break;default:tt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nf(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Tr(s,""),r.flags&=-33);var i=xu(e);nl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xu(e);tl(e,l,o);break;default:throw Error(_(161))}}catch(a){se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ym(e,t,n){b=e,of(e)}function of(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var s=b,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ee;l=fs;var u=Ee;if(fs=o,(Ee=a)&&!u)for(b=s;b!==null;)o=b,a=o.child,o.tag===22&&o.memoizedState!==null?Nu(s):a!==null?(a.return=o,b=a):Nu(s);for(;i!==null;)b=i,of(i),i=i.sibling;b=s,fs=l,Ee=u}Eu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,b=i):Eu(e)}}function Eu(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||xi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ou(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ou(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ar(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Ee||t.flags&512&&el(t)}catch(h){se(t,t.return,h)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function _u(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function Nu(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xi(4,t)}catch(a){se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){se(t,s,a)}}var i=t.return;try{el(t)}catch(a){se(t,i,a)}break;case 5:var o=t.return;try{el(t)}catch(a){se(t,o,a)}}}catch(a){se(t,t.return,a)}if(t===e){b=null;break}var l=t.sibling;if(l!==null){l.return=t.return,b=l;break}b=t.return}}var vm=Math.ceil,ii=bt.ReactCurrentDispatcher,ta=bt.ReactCurrentOwner,Je=bt.ReactCurrentBatchConfig,V=0,pe=null,le=null,ye=0,Me=0,Pn=Qt(0),de=0,Ur=null,fn=0,Si=0,na=0,Sr=null,Le=null,ra=0,Gn=1/0,St=null,oi=!1,rl=null,$t=null,hs=!1,Dt=null,li=0,Er=0,sl=null,Rs=-1,Cs=0;function Ce(){return V&6?ie():Rs!==-1?Rs:Rs=ie()}function Ht(e){return e.mode&1?V&2&&ye!==0?ye&-ye:tm.transition!==null?(Cs===0&&(Cs=$c()),Cs):(e=H,e!==0||(e=window.event,e=e===void 0?16:Qc(e.type)),e):1}function lt(e,t,n,r){if(50<Er)throw Er=0,sl=null,Error(_(185));Vr(e,n,r),(!(V&2)||e!==pe)&&(e===pe&&(!(V&2)&&(Si|=n),de===4&&It(e,ye)),Ie(e,r),n===1&&V===0&&!(t.mode&1)&&(Gn=ie()+500,yi&&Xt()))}function Ie(e,t){var n=e.callbackNode;tp(e,t);var r=Hs(e,e===pe?ye:0);if(r===0)n!==null&&Pa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pa(n),t===1)e.tag===0?em(Tu.bind(null,e)):md(Tu.bind(null,e)),Qp(function(){!(V&6)&&Xt()}),n=null;else{switch(Hc(r)){case 1:n=Al;break;case 4:n=Bc;break;case 16:n=$s;break;case 536870912:n=Vc;break;default:n=$s}n=pf(n,lf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lf(e,t){if(Rs=-1,Cs=0,V&6)throw Error(_(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=Hs(e,e===pe?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ai(e,r);else{t=r;var s=V;V|=2;var i=uf();(pe!==e||ye!==t)&&(St=null,Gn=ie()+500,on(e,t));do try{Sm();break}catch(l){af(e,l)}while(!0);Vl(),ii.current=i,V=s,le!==null?t=0:(pe=null,ye=0,t=de)}if(t!==0){if(t===2&&(s=Lo(e),s!==0&&(r=s,t=il(e,s))),t===1)throw n=Ur,on(e,0),It(e,r),Ie(e,ie()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!wm(s)&&(t=ai(e,r),t===2&&(i=Lo(e),i!==0&&(r=i,t=il(e,i))),t===1))throw n=Ur,on(e,0),It(e,r),Ie(e,ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:en(e,Le,St);break;case 3:if(It(e,r),(r&130023424)===r&&(t=ra+500-ie(),10<t)){if(Hs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mo(en.bind(null,e,Le,St),t);break}en(e,Le,St);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ot(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vm(r/1960))-r,10<r){e.timeoutHandle=Mo(en.bind(null,e,Le,St),r);break}en(e,Le,St);break;case 5:en(e,Le,St);break;default:throw Error(_(329))}}}return Ie(e,ie()),e.callbackNode===n?lf.bind(null,e):null}function il(e,t){var n=Sr;return e.current.memoizedState.isDehydrated&&(on(e,t).flags|=256),e=ai(e,t),e!==2&&(t=Le,Le=n,t!==null&&ol(t)),e}function ol(e){Le===null?Le=e:Le.push.apply(Le,e)}function wm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~na,t&=~Si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Tu(e){if(V&6)throw Error(_(327));Mn();var t=Hs(e,0);if(!(t&1))return Ie(e,ie()),null;var n=ai(e,t);if(e.tag!==0&&n===2){var r=Lo(e);r!==0&&(t=r,n=il(e,r))}if(n===1)throw n=Ur,on(e,0),It(e,t),Ie(e,ie()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,en(e,Le,St),Ie(e,ie()),null}function sa(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Gn=ie()+500,yi&&Xt())}}function hn(e){Dt!==null&&Dt.tag===0&&!(V&6)&&Mn();var t=V;V|=1;var n=Je.transition,r=H;try{if(Je.transition=null,H=1,e)return e()}finally{H=r,Je.transition=n,V=t,!(V&6)&&Xt()}}function ia(){Me=Pn.current,J(Pn)}function on(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kp(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(Ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ks();break;case 3:Hn(),J(Pe),J(Te),Yl();break;case 5:ql(r);break;case 4:Hn();break;case 13:J(ee);break;case 19:J(ee);break;case 10:$l(r.type._context);break;case 22:case 23:ia()}n=n.return}if(pe=e,le=e=Wt(e.current,null),ye=Me=t,de=0,Ur=null,na=Si=fn=0,Le=Sr=null,nn!==null){for(t=0;t<nn.length;t++)if(n=nn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nn=null}return e}function af(e,t){do{var n=le;try{if(Vl(),Ns.current=si,ri){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ri=!1}if(dn=0,fe=ue=ne=null,wr=!1,Dr=0,ta.current=null,n===null||n.return===null){de=1,Ur=t,le=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=ye,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=fu(o);if(v!==null){v.flags&=-257,hu(v,o,l,i,t),v.mode&1&&du(i,u,t),t=v,a=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){du(i,u,t),oa();break e}a=Error(_(426))}}else if(Z&&l.mode&1){var S=fu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hu(S,o,l,i,t),Ul(Wn(a,l));break e}}i=a=Wn(a,l),de!==4&&(de=2),Sr===null?Sr=[i]:Sr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Hd(i,a,t);iu(i,p);break e;case 1:l=a;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($t===null||!$t.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=Wd(i,l,t);iu(i,E);break e}}i=i.return}while(i!==null)}df(n)}catch(T){t=T,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function uf(){var e=ii.current;return ii.current=si,e===null?si:e}function oa(){(de===0||de===3||de===2)&&(de=4),pe===null||!(fn&268435455)&&!(Si&268435455)||It(pe,ye)}function ai(e,t){var n=V;V|=2;var r=uf();(pe!==e||ye!==t)&&(St=null,on(e,t));do try{xm();break}catch(s){af(e,s)}while(!0);if(Vl(),V=n,ii.current=r,le!==null)throw Error(_(261));return pe=null,ye=0,de}function xm(){for(;le!==null;)cf(le)}function Sm(){for(;le!==null&&!Gh();)cf(le)}function cf(e){var t=hf(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?df(e):le=t,ta.current=null}function df(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pm(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,le=null;return}}else if(n=hm(n,t,Me),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);de===0&&(de=5)}function en(e,t,n){var r=H,s=Je.transition;try{Je.transition=null,H=1,Em(e,t,n,r)}finally{Je.transition=s,H=r}return null}function Em(e,t,n,r){do Mn();while(Dt!==null);if(V&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(np(e,i),e===pe&&(le=pe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,pf($s,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=H;H=1;var l=V;V|=4,ta.current=null,gm(e,n),sf(n,e),Vp(Do),Ws=!!zo,Do=zo=null,e.current=n,ym(n),qh(),V=l,H=o,Je.transition=i}else e.current=n;if(hs&&(hs=!1,Dt=e,li=s),i=e.pendingLanes,i===0&&($t=null),Qh(n.stateNode),Ie(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(oi)throw oi=!1,e=rl,rl=null,e;return li&1&&e.tag!==0&&Mn(),i=e.pendingLanes,i&1?e===sl?Er++:(Er=0,sl=e):Er=0,Xt(),null}function Mn(){if(Dt!==null){var e=Hc(li),t=Je.transition,n=H;try{if(Je.transition=null,H=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,li=0,V&6)throw Error(_(331));var s=V;for(V|=4,b=e.current;b!==null;){var i=b,o=i.child;if(b.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(b=u;b!==null;){var d=b;switch(d.tag){case 0:case 11:case 15:xr(8,d,i)}var m=d.child;if(m!==null)m.return=d,b=m;else for(;b!==null;){d=b;var h=d.sibling,v=d.return;if(tf(d),d===u){b=null;break}if(h!==null){h.return=v,b=h;break}b=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}b=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,b=o;else e:for(;b!==null;){if(i=b,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,b=p;break e}b=i.return}}var f=e.current;for(b=f;b!==null;){o=b;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,b=g;else e:for(o=f;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xi(9,l)}}catch(T){se(l,l.return,T)}if(l===o){b=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,b=E;break e}b=l.return}}if(V=s,Xt(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(fi,e)}catch{}r=!0}return r}finally{H=n,Je.transition=t}}return!1}function ku(e,t,n){t=Wn(n,t),t=Hd(e,t,1),e=Vt(e,t,1),t=Ce(),e!==null&&(Vr(e,1,t),Ie(e,t))}function se(e,t,n){if(e.tag===3)ku(e,e,n);else for(;t!==null;){if(t.tag===3){ku(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=Wn(n,e),e=Wd(t,e,1),t=Vt(t,e,1),e=Ce(),t!==null&&(Vr(t,1,e),Ie(t,e));break}}t=t.return}}function _m(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(ye&n)===n&&(de===4||de===3&&(ye&130023424)===ye&&500>ie()-ra?on(e,0):na|=n),Ie(e,t)}function ff(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=Ce();e=Ct(e,t),e!==null&&(Vr(e,t,n),Ie(e,n))}function Nm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ff(e,n)}function Tm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),ff(e,n)}var hf;hf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Oe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oe=!1,fm(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,Z&&t.flags&1048576&&gd(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ks(e,t),e=t.pendingProps;var s=Bn(t,Te.current);Fn(t,n),s=Ql(null,t,r,e,s,n);var i=Xl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(r)?(i=!0,Qs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wl(t),s.updater=wi,t.stateNode=s,s._reactInternals=t,Go(t,r,e,n),t=Ko(null,t,r,!0,i,n)):(t.tag=0,Z&&i&&Fl(t),Re(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Rm(r),e=nt(r,e),s){case 0:t=Yo(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=pu(null,t,r,e,n);break e;case 14:t=mu(null,t,r,nt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Yo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),gu(e,t,r,s,n);case 3:e:{if(Kd(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ed(e,t),ti(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wn(Error(_(423)),t),t=yu(e,t,r,n,s);break e}else if(r!==s){s=Wn(Error(_(424)),t),t=yu(e,t,r,n,s);break e}else for(Ue=Bt(t.stateNode.containerInfo.firstChild),Be=t,Z=!0,it=null,n=xd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===s){t=At(e,t,n);break e}Re(e,t,r,n)}t=t.child}return t;case 5:return _d(t),e===null&&$o(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fo(r,s)?o=null:i!==null&&Fo(r,i)&&(t.flags|=32),Yd(e,t),Re(e,t,o,n),t.child;case 6:return e===null&&$o(t),null;case 13:return Qd(e,t,n);case 4:return Gl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$n(t,null,r,n):Re(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),pu(e,t,r,s,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Y(Zs,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Pe.current){t=At(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Tt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ho(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ho(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fn(t,n),s=Ze(s),r=r(s),t.flags|=1,Re(e,t,r,n),t.child;case 14:return r=t.type,s=nt(r,t.pendingProps),s=nt(r.type,s),mu(e,t,r,s,n);case 15:return Gd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),ks(e,t),t.tag=1,je(r)?(e=!0,Qs(t)):e=!1,Fn(t,n),$d(t,r,s),Go(t,r,s,n),Ko(null,t,r,!0,e,n);case 19:return Xd(e,t,n);case 22:return qd(e,t,n)}throw Error(_(156,t.tag))};function pf(e,t){return Uc(e,t)}function km(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,r){return new km(e,t,n,r)}function la(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rm(e){if(typeof e=="function")return la(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===Rl)return 14}return 2}function Wt(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function As(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")la(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _n:return ln(n.children,s,i,t);case Tl:o=8,s|=8;break;case go:return e=Xe(12,n,t,s|2),e.elementType=go,e.lanes=i,e;case yo:return e=Xe(13,n,t,s),e.elementType=yo,e.lanes=i,e;case vo:return e=Xe(19,n,t,s),e.elementType=vo,e.lanes=i,e;case _c:return Ei(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sc:o=10;break e;case Ec:o=9;break e;case kl:o=11;break e;case Rl:o=14;break e;case Ot:o=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Xe(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ln(e,t,n,r){return e=Xe(7,e,r,t),e.lanes=n,e}function Ei(e,t,n,r){return e=Xe(22,e,r,t),e.elementType=_c,e.lanes=n,e.stateNode={isHidden:!1},e}function so(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function io(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aa(e,t,n,r,s,i,o,l,a){return e=new Cm(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(i),e}function Am(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:En,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mf(e){if(!e)return Yt;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(je(n))return pd(e,n,t)}return t}function gf(e,t,n,r,s,i,o,l,a){return e=aa(n,r,!0,e,s,i,o,l,a),e.context=mf(null),n=e.current,r=Ce(),s=Ht(n),i=Tt(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,Vr(e,s,r),Ie(e,r),e}function _i(e,t,n,r){var s=t.current,i=Ce(),o=Ht(s);return n=mf(n),t.context===null?t.context=n:t.pendingContext=n,t=Tt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,o),e!==null&&(lt(e,s,o,i),_s(e,s,o)),o}function ui(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ua(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function bm(){return null}var yf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ca(e){this._internalRoot=e}Ni.prototype.render=ca.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));_i(e,t,null,null)};Ni.prototype.unmount=ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){_i(null,e,null,null)}),t[Rt]=null}};function Ni(e){this._internalRoot=e}Ni.prototype.unstable_scheduleHydration=function(e){if(e){var t=qc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&Kc(e)}};function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ti(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function Lm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ui(o);i.call(u)}}var o=gf(t,r,e,0,null,!1,!1,"",Cu);return e._reactRootContainer=o,e[Rt]=o.current,Or(e.nodeType===8?e.parentNode:e),hn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ui(a);l.call(u)}}var a=aa(e,0,!1,null,null,!1,!1,"",Cu);return e._reactRootContainer=a,e[Rt]=a.current,Or(e.nodeType===8?e.parentNode:e),hn(function(){_i(t,a,n,r)}),a}function ki(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ui(o);l.call(a)}}_i(t,o,e,s)}else o=Lm(n,t,e,s,r);return ui(o)}Wc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dr(t.pendingLanes);n!==0&&(bl(t,n|1),Ie(t,ie()),!(V&6)&&(Gn=ie()+500,Xt()))}break;case 13:hn(function(){var r=Ct(e,1);if(r!==null){var s=Ce();lt(r,e,1,s)}}),ua(e,1)}};Ll=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var n=Ce();lt(t,e,134217728,n)}ua(e,134217728)}};Gc=function(e){if(e.tag===13){var t=Ht(e),n=Ct(e,t);if(n!==null){var r=Ce();lt(n,e,t,r)}ua(e,t)}};qc=function(){return H};Yc=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};Co=function(e,t,n){switch(t){case"input":if(So(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=gi(r);if(!s)throw Error(_(90));Tc(r),So(r,s)}}}break;case"textarea":Rc(e,n);break;case"select":t=n.value,t!=null&&jn(e,!!n.multiple,t,!1)}};jc=sa;Ic=hn;var Om={usingClientEntryPoint:!1,Events:[Hr,Rn,gi,Oc,Pc,sa]},or={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pm={bundleType:or.bundleType,version:or.version,rendererPackageName:or.rendererPackageName,rendererConfig:or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fc(e),e===null?null:e.stateNode},findFiberByHostInstance:or.findFiberByHostInstance||bm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{fi=ps.inject(Pm),gt=ps}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Om;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(t))throw Error(_(200));return Am(e,t,null,n)};He.createRoot=function(e,t){if(!da(e))throw Error(_(299));var n=!1,r="",s=yf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=aa(e,1,!1,null,null,n,!1,r,s),e[Rt]=t.current,Or(e.nodeType===8?e.parentNode:e),new ca(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Fc(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return hn(e)};He.hydrate=function(e,t,n){if(!Ti(t))throw Error(_(200));return ki(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!da(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gf(t,null,e,1,n??null,s,!1,i,o),e[Rt]=t.current,Or(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ni(t)};He.render=function(e,t,n){if(!Ti(t))throw Error(_(200));return ki(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!Ti(e))throw Error(_(40));return e._reactRootContainer?(hn(function(){ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};He.unstable_batchedUpdates=sa;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ti(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return ki(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function vf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vf)}catch(e){console.error(e)}}vf(),yc.exports=He;var jm=yc.exports,Au=jm;po.createRoot=Au.createRoot,po.hydrateRoot=Au.hydrateRoot;const wf="http://localhost:3001/api";function Im(e){const t=new URLSearchParams;e&&t.append("return_to",e);const n=t.toString();window.location.href=`http://localhost:3001/auth/sign-in${n?`?${n}`:""}`}function zm(){window.location.href="http://localhost:3001/auth/sign-up"}async function Dm(){if(!(await fetch(`${wf.replace("/api","")}/auth/sign-out`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to sign out");window.location.href="/"}async function Fm(){try{const e=await fetch(`${wf.replace("/api","")}/auth/user`,{credentials:"include"});if(e.status===401)return null;if(!e.ok)throw new Error("Failed to get current user");return await e.json()}catch(e){return console.error("Error getting current user:",e),null}}function Mm(){const[e,t]=R.useState(null),[n,r]=R.useState(!1),[s,i]=R.useState(!0),o=R.useCallback(async()=>{try{const d=await Fm();d!=null&&d.isAuthenticated?(t(d.user),r(!0)):(t(null),r(!1))}catch(d){d instanceof TypeError&&d.message==="Failed to fetch"||console.warn("Silent Auth Refresh Failed:",d),t(null),r(!1)}},[]);R.useEffect(()=>{(async()=>{i(!0),await o(),i(!1)})()},[o]);const l=R.useCallback(d=>{Im(d)},[]),a=R.useCallback(()=>{zm()},[]),u=R.useCallback(async()=>{i(!0);try{await Dm(),t(null),r(!1)}catch(d){console.error("Error signing out:",d)}finally{i(!1)}},[]);return{user:e,isAuthenticated:n,isLoading:s,signIn:l,signUp:a,logout:u,refreshUser:o}}var te=(e=>(e.ARROW="ARROW",e.CANNON="CANNON",e.FROST="FROST",e))(te||{}),P=(e=>(e.GRUNT="GRUNT",e.RUNNER="RUNNER",e.TANK="TANK",e.SHIELDED="SHIELDED",e))(P||{}),G=(e=>(e.MENU="MENU",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.VICTORY="VICTORY",e.DEFEAT="DEFEAT",e))(G||{}),he=(e=>(e[e.BUILDABLE=0]="BUILDABLE",e[e.PATH=1]="PATH",e[e.START=2]="START",e[e.END=3]="END",e[e.OBSTACLE=4]="OBSTACLE",e))(he||{});const A=64,_e=12,Ve=8,Um=_e*A,Bm=Ve*A,xn={buildPanel:{height:{desktop:1.4},cardWidth:{desktop:1.5},iconSize:{desktop:.7}},actionButtons:{size:{desktop:.9}}},ll=[{id:"archery_drill",name:"Archery Drill",description:"+10% Arrow Tower Damage per level",cost:50,maxLevels:5,currentLevel:0,effectType:"DAMAGE",effectValue:.1,target:te.ARROW},{id:"reinforced_steel",name:"Reinforced Steel",description:"+10% Cannon Blast Radius per level",cost:75,maxLevels:3,currentLevel:0,effectType:"RANGE",effectValue:.1,target:te.CANNON},{id:"alchemy",name:"Alchemy",description:"+50 Starting Gold per level",cost:100,maxLevels:5,currentLevel:0,effectType:"GOLD",effectValue:50,target:"ALL"},{id:"stone_masonry",name:"Stone Masonry",description:"+5 Starting Lives per level",cost:40,maxLevels:10,currentLevel:0,effectType:"LIVES",effectValue:5,target:"ALL"},{id:"frost_mastery",name:"Frost Mastery",description:"+10% Frost Range per level",cost:60,maxLevels:3,currentLevel:0,effectType:"RANGE",effectValue:.1,target:te.FROST}],ce={[te.ARROW]:{id:te.ARROW,name:"Archer Tower",description:"Single target, fast firing.",cost:50,damage:17,range:160,fireRate:1,color:"bg-amber-700",projectileSpeed:400,upgrades:[{name:"Iron Tips",description:"+30% Damage",cost:40,stat:"damage",value:.3,operation:"multiply",type:"DAMAGE"},{name:"Steel Bolts",description:"+40% Damage",cost:70,stat:"damage",value:.4,operation:"multiply",type:"DAMAGE"},{name:"Mithril Head",description:"+50% Damage",cost:120,stat:"damage",value:.5,operation:"multiply",type:"DAMAGE"}]},[te.CANNON]:{id:te.CANNON,name:"Cannon",description:"Area damage, slow firing.",cost:80,damage:44,range:130,fireRate:.6,aoeRadius:60,color:"bg-stone-800",projectileSpeed:300,upgrades:[{name:"Heavy Shells",description:"+35% Damage",cost:70,stat:"damage",value:.35,operation:"multiply",type:"DAMAGE"},{name:"Shrapnel",description:"+20% Blast Radius",cost:60,stat:"aoeRadius",value:.2,operation:"multiply",type:"SPECIAL"},{name:"Auto-Loader",description:"+15% Fire Rate",cost:70,stat:"fireRate",value:.15,operation:"multiply",type:"SPEED"}]},[te.FROST]:{id:te.FROST,name:"Ice Spire",description:"Low damage, slows enemies.",cost:100,damage:9,range:150,fireRate:1.2,slowFactor:.3,slowDuration:2e3,color:"bg-cyan-500",projectileSpeed:350,upgrades:[{name:"Deep Freeze",description:"+15% Slow Strength",cost:80,stat:"slowFactor",value:.15,operation:"add",type:"SPECIAL"},{name:"Permafrost",description:"+40% Duration",cost:70,stat:"slowDuration",value:.4,operation:"multiply",type:"SPECIAL"},{name:"Blizzard",description:"+25% Range",cost:60,stat:"range",value:.25,operation:"multiply",type:"RANGE"}]}},bs={[P.GRUNT]:{id:P.GRUNT,name:"Grunt",hp:100,speed:.2*A,reward:10,color:"bg-green-600"},[P.RUNNER]:{id:P.RUNNER,name:"Runner",hp:70,speed:.32*A,reward:12,color:"bg-yellow-500"},[P.TANK]:{id:P.TANK,name:"Golem",hp:250,speed:.14*A,reward:20,color:"bg-red-800"},[P.SHIELDED]:{id:P.SHIELDED,name:"Paladin",hp:150,speed:.2*A,reward:18,hasShield:!0,shieldStrength:50,color:"bg-blue-700"}},Ls=()=>Array(Ve).fill(null).map(()=>Array(_e).fill(he.BUILDABLE)),Os=(e,t)=>{for(let n=0;n<Ve;n++)for(let r=0;r<_e;r++)(e[n][r]===he.PATH||e[n][r]===he.START||e[n][r]===he.END)&&(e[n][r]=he.BUILDABLE);t.forEach((n,r)=>{r===0?e[n.y][n.x]=he.START:r===t.length-1?e[n.y][n.x]=he.END:e[n.y][n.x]=he.PATH})},bu=[{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3},{x:9,y:3},{x:10,y:3},{x:11,y:3}],Lu=[{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:5,y:2},{x:5,y:3},{x:5,y:4},{x:5,y:5},{x:6,y:5},{x:7,y:5},{x:8,y:5},{x:8,y:4},{x:8,y:3},{x:9,y:3},{x:10,y:3},{x:11,y:3}],Ou=[{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:2,y:5},{x:3,y:5},{x:4,y:5},{x:5,y:5},{x:5,y:4},{x:5,y:3},{x:5,y:2},{x:6,y:2},{x:7,y:2},{x:8,y:2},{x:8,y:3},{x:8,y:4},{x:9,y:4},{x:10,y:4},{x:11,y:4}],Sn=[{id:1,name:"Forest Path",startingGold:150,startingLives:20,path:bu,grid:(()=>{const e=Ls();return Os(e,bu),e})(),waves:[{enemies:[{type:P.GRUNT,count:5}],interval:1500},{enemies:[{type:P.GRUNT,count:8}],interval:1200},{enemies:[{type:P.RUNNER,count:3}],interval:1500},{enemies:[{type:P.GRUNT,count:5},{type:P.RUNNER,count:5}],interval:1e3},{enemies:[{type:P.RUNNER,count:10}],interval:800},{enemies:[{type:P.GRUNT,count:15}],interval:600}]},{id:2,name:"Desert Ruins",startingGold:200,startingLives:20,path:Lu,grid:(()=>{const e=Ls();return Os(e,Lu),e})(),waves:[{enemies:[{type:P.GRUNT,count:10}],interval:1e3},{enemies:[{type:P.TANK,count:2}],interval:3e3},{enemies:[{type:P.RUNNER,count:10}],interval:800},{enemies:[{type:P.GRUNT,count:10},{type:P.TANK,count:3}],interval:1200},{enemies:[{type:P.TANK,count:5},{type:P.RUNNER,count:5}],interval:1500},{enemies:[{type:P.TANK,count:8}],interval:2e3},{enemies:[{type:P.GRUNT,count:20},{type:P.TANK,count:2}],interval:500},{enemies:[{type:P.TANK,count:10}],interval:1500}]},{id:3,name:"Lava Mine",startingGold:250,startingLives:20,path:Ou,grid:(()=>{const e=Ls();return Os(e,Ou),e})(),waves:[{enemies:[{type:P.SHIELDED,count:2}],interval:3e3},{enemies:[{type:P.GRUNT,count:15}],interval:800},{enemies:[{type:P.SHIELDED,count:5}],interval:2e3},{enemies:[{type:P.TANK,count:5},{type:P.SHIELDED,count:3}],interval:2e3},{enemies:[{type:P.RUNNER,count:20}],interval:500},{enemies:[{type:P.SHIELDED,count:8}],interval:1500},{enemies:[{type:P.TANK,count:5},{type:P.SHIELDED,count:5}],interval:1500},{enemies:[{type:P.GRUNT,count:30}],interval:300},{enemies:[{type:P.SHIELDED,count:10},{type:P.TANK,count:5}],interval:1200},{enemies:[{type:P.TANK,count:15}],interval:1500}]}];class Vm{constructor(){K(this,"particles",[])}spawnExplosion(t,n,r){for(let s=0;s<15;s++){const i=Math.random()*Math.PI*2,o=Math.random()*3+1;this.particles.push({x:t,y:n,vx:Math.cos(i)*o,vy:Math.sin(i)*o,life:1,maxLife:1,size:Math.random()*4+2,color:r,type:"smoke"})}}spawnHit(t,n,r){for(let s=0;s<5;s++){const i=Math.random()*Math.PI*2,o=Math.random()*2+.5;this.particles.push({x:t,y:n,vx:Math.cos(i)*o,vy:Math.sin(i)*o,life:.5,maxLife:.5,size:Math.random()*3+1,color:r,type:"spark"})}}spawnGold(t,n){this.particles.push({x:t,y:n,vx:0,vy:-2,life:1.5,maxLife:1.5,size:5,color:"#fbbf24",type:"gold"})}update(t){const n=t/16;for(let r=this.particles.length-1;r>=0;r--){const s=this.particles[r];s.x+=s.vx*n,s.y+=s.vy*n,(s.type==="smoke"||s.type==="spark")&&(s.vx*=.95,s.vy*=.95),s.type==="gold"&&(s.vy*=.98),s.life-=t/1e3,s.life<=0&&this.particles.splice(r,1)}}draw(t){t.clearRect(0,0,t.canvas.width,t.canvas.height);for(const n of this.particles)t.globalAlpha=n.life/n.maxLife,t.fillStyle=n.color,t.shadowBlur=n.size*2,t.shadowColor=n.color,n.type==="gold"?(t.beginPath(),t.arc(n.x,n.y,n.size,0,Math.PI*2),t.fill(),t.strokeStyle="#fff",t.lineWidth=1,t.stroke()):(t.beginPath(),t.arc(n.x,n.y,n.size,0,Math.PI*2),t.fill()),t.shadowBlur=0;t.globalAlpha=1}}const $m={id:"ARROW",name:"Archer Tower",description:"Single target, fast firing.",cost:50,damage:15,range:160,fireRate:1,color:"bg-amber-700",projectileSpeed:400,upgrades:[{name:"Iron Tips",description:"+30% Damage",cost:40,stat:"damage",value:.3,operation:"multiply",type:"DAMAGE"},{name:"Steel Bolts",description:"+40% Damage",cost:70,stat:"damage",value:.4,operation:"multiply",type:"DAMAGE"},{name:"Mithril Head",description:"+50% Damage",cost:120,stat:"damage",value:.5,operation:"multiply",type:"DAMAGE"}]},Hm={id:"CANNON",name:"Cannon",description:"Area damage, slow firing.",cost:80,damage:40,range:130,fireRate:.6,aoeRadius:60,color:"bg-stone-800",projectileSpeed:300,upgrades:[{name:"Heavy Shells",description:"+35% Damage",cost:70,stat:"damage",value:.35,operation:"multiply",type:"DAMAGE"},{name:"Shrapnel",description:"+20% Blast Radius",cost:60,stat:"aoeRadius",value:.2,operation:"multiply",type:"SPECIAL"},{name:"Auto-Loader",description:"+15% Fire Rate",cost:70,stat:"fireRate",value:.15,operation:"multiply",type:"SPEED"}]},Wm={id:"FROST",name:"Ice Spire",description:"Low damage, slows enemies.",cost:100,damage:8,range:150,fireRate:1.2,slowFactor:.3,slowDuration:2e3,color:"bg-cyan-500",projectileSpeed:350,upgrades:[{name:"Deep Freeze",description:"+15% Slow Strength",cost:80,stat:"slowFactor",value:.15,operation:"add",type:"SPECIAL"},{name:"Permafrost",description:"+40% Duration",cost:70,stat:"slowDuration",value:.4,operation:"multiply",type:"SPECIAL"},{name:"Blizzard",description:"+25% Range",cost:60,stat:"range",value:.25,operation:"multiply",type:"RANGE"}]},Gm={ARROW:$m,CANNON:Hm,FROST:Wm},qm={id:"GRUNT",name:"Grunt",hp:100,speed:57.6,reward:10,color:"bg-green-600"},Ym={id:"RUNNER",name:"Runner",hp:70,speed:92.16,reward:12,color:"bg-yellow-500"},Km={id:"TANK",name:"Golem",hp:250,speed:40.32,reward:20,color:"bg-red-800"},Qm={id:"SHIELDED",name:"Paladin",hp:150,speed:57.6,reward:18,hasShield:!0,shieldStrength:50,color:"bg-blue-700"},Xm={GRUNT:qm,RUNNER:Ym,TANK:Km,SHIELDED:Qm},Jm=[{id:"archery_drill",name:"Archery Drill",description:"+10% Arrow Tower Damage per level",cost:50,maxLevels:5,effectType:"DAMAGE",effectValue:.1,target:"ARROW"},{id:"reinforced_steel",name:"Reinforced Steel",description:"+10% Cannon Blast Radius per level",cost:75,maxLevels:3,effectType:"RANGE",effectValue:.1,target:"CANNON"},{id:"alchemy",name:"Alchemy",description:"+50 Starting Gold per level",cost:100,maxLevels:5,effectType:"GOLD",effectValue:50,target:"ALL"},{id:"stone_masonry",name:"Stone Masonry",description:"+5 Starting Lives per level",cost:40,maxLevels:10,effectType:"LIVES",effectValue:5,target:"ALL"},{id:"frost_mastery",name:"Frost Mastery",description:"+10% Frost Range per level",cost:60,maxLevels:3,effectType:"RANGE",effectValue:.1,target:"FROST"}],Zm={nodes:Jm},e0={thinkIntervalMs:500},t0={baseMultiplier:1,waveScaling:.15,richPlayerPenalty:.2,richPlayerThreshold:500,fullHpPenalty:.1,highLevelPenalty:.15,highLevelThreshold:2},n0={sellRefundPercentage:.5,moveCostPercentage:.25,efficiencyFactor:.7,spendableWealthFactor:.9},r0={gemsBase:10,gemsVictoryBonus:20},s0={autoGenerateCount:10,autoGenerateCountScaling:1.5,autoGenerateInterval:1e3,autoGenerateIntervalScaling:20,autoGenerateMinInterval:200,mapShiftInterval:6,balanceNerfSafetyFactor:.95,balanceBuffTargetFactor:.8,balanceBuffThreshold:1.5,autoWaveTimerMs:1e4},i0={maxSlowFactor:.9,cannonArcHeightMultiplier:.5,arrowArcHeightMultiplier:.2,towerInitialCooldown:1e3},o0={floatingTextLifeMs:1e3,floatingTextRiseSpeed:.5,floatingTextRandomOffset:20,fastForwardSpeedMultiplier:1.5},l0={masterVolume:.25},a0={ai:e0,difficulty:t0,economy:n0,rewards:r0,waves:s0,combat:i0,visual:o0,audio:l0};class u0{constructor(){K(this,"towers",null);K(this,"enemies",null);K(this,"techTree",null);K(this,"gameBalance",null)}initialize(){this.loadTowers(),this.loadEnemies(),this.loadTechTree(),this.loadGameBalance()}loadTowers(){this.towers=Gm}loadEnemies(){this.enemies=Xm}loadTechTree(){this.techTree=Zm}loadGameBalance(){this.gameBalance=a0}getTowers(){return this.towers||this.loadTowers(),this.towers}getTower(t){return this.getTowers()[t]}getEnemies(){return this.enemies||this.loadEnemies(),this.enemies}getEnemy(t){return this.getEnemies()[t]}getTechTree(){return this.techTree||this.loadTechTree(),this.techTree}getGameBalance(){return this.gameBalance||this.loadGameBalance(),this.gameBalance}getSellRefundPercentage(){return this.getGameBalance().economy.sellRefundPercentage}getMoveCostPercentage(){return this.getGameBalance().economy.moveCostPercentage}getDifficultySettings(){return this.getGameBalance().difficulty}getWaveSettings(){return this.getGameBalance().waves}getAISettings(){return this.getGameBalance().ai}getRewardSettings(){return this.getGameBalance().rewards}}const c0=new u0,B=c0.getGameBalance(),X={AI_THINK_INTERVAL_MS:B.ai.thinkIntervalMs,DIFFICULTY_BASE_MULT:B.difficulty.baseMultiplier,DIFFICULTY_WAVE_SCALING:B.difficulty.waveScaling,DIFFICULTY_RICH_PLAYER_PENALTY:B.difficulty.richPlayerPenalty,DIFFICULTY_RICH_PLAYER_THRESHOLD:B.difficulty.richPlayerThreshold,DIFFICULTY_FULL_HP_PENALTY:B.difficulty.fullHpPenalty,DIFFICULTY_HIGH_LEVEL_PENALTY:B.difficulty.highLevelPenalty,DIFFICULTY_HIGH_LEVEL_THRESHOLD:B.difficulty.highLevelThreshold,GEMS_BASE_REWARD:B.rewards.gemsBase,GEMS_VICTORY_BONUS:B.rewards.gemsVictoryBonus,SELL_REFUND_PERCENTAGE:B.economy.sellRefundPercentage,MOVE_COST_PERCENTAGE:B.economy.moveCostPercentage,EFFICIENCY_FACTOR:B.economy.efficiencyFactor,SPENDABLE_WEALTH_FACTOR:B.economy.spendableWealthFactor,WAVE_AUTO_GENERATE_COUNT:B.waves.autoGenerateCount,WAVE_AUTO_GENERATE_COUNT_SCALING:B.waves.autoGenerateCountScaling,WAVE_AUTO_GENERATE_INTERVAL:B.waves.autoGenerateInterval,WAVE_AUTO_GENERATE_INTERVAL_SCALING:B.waves.autoGenerateIntervalScaling,WAVE_AUTO_GENERATE_MIN_INTERVAL:B.waves.autoGenerateMinInterval,WAVE_MAP_SHIFT_INTERVAL:B.waves.mapShiftInterval,WAVE_BALANCE_NERF_SAFETY_FACTOR:B.waves.balanceNerfSafetyFactor,WAVE_BALANCE_BUFF_TARGET_FACTOR:B.waves.balanceBuffTargetFactor,WAVE_BALANCE_BUFF_THRESHOLD:B.waves.balanceBuffThreshold,AUTO_WAVE_TIMER_MS:B.waves.autoWaveTimerMs,MAX_SLOW_FACTOR:B.combat.maxSlowFactor,CANNON_ARC_HEIGHT_MULTIPLIER:B.combat.cannonArcHeightMultiplier,ARROW_ARC_HEIGHT_MULTIPLIER:B.combat.arrowArcHeightMultiplier,TOWER_INITIAL_COOLDOWN:B.combat.towerInitialCooldown,FLOATING_TEXT_LIFE_MS:B.visual.floatingTextLifeMs,FLOATING_TEXT_RISE_SPEED:B.visual.floatingTextRiseSpeed,FLOATING_TEXT_RANDOM_OFFSET:B.visual.floatingTextRandomOffset,FAST_FORWARD_SPEED_MULTIPLIER:B.visual.fastForwardSpeedMultiplier,MASTER_VOLUME:B.audio.masterVolume};class d0{constructor(){K(this,"ctx",null);K(this,"masterGain",null);K(this,"initialized",!1)}init(){if(!this.initialized)try{this.ctx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.ctx.createGain(),this.masterGain.gain.value=X.MASTER_VOLUME,this.masterGain.connect(this.ctx.destination),this.initialized=!0,this.ctx.state==="suspended"&&this.ctx.resume()}catch(t){console.warn("Web Audio API not supported",t)}}playShoot(t){if(!this.initialized||!this.ctx||!this.masterGain)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),s=this.ctx.createGain();if(r.connect(s),s.connect(this.masterGain),t===te.ARROW){r.type="sawtooth",r.frequency.setValueAtTime(880,n),r.frequency.exponentialRampToValueAtTime(110,n+.15);const i=this.ctx.createBiquadFilter();i.type="lowpass",i.frequency.setValueAtTime(3e3,n),i.frequency.linearRampToValueAtTime(500,n+.1),r.disconnect(),r.connect(i),i.connect(s),s.gain.setValueAtTime(.3,n),s.gain.exponentialRampToValueAtTime(.01,n+.15),r.start(n),r.stop(n+.15)}else t===te.CANNON?(r.type="square",r.frequency.setValueAtTime(100,n),r.frequency.exponentialRampToValueAtTime(20,n+.4),s.gain.setValueAtTime(.6,n),s.gain.exponentialRampToValueAtTime(.01,n+.4),r.start(n),r.stop(n+.4)):(r.type="sine",r.frequency.setValueAtTime(1200,n),r.frequency.linearRampToValueAtTime(1800,n+.3),s.gain.setValueAtTime(.2,n),s.gain.linearRampToValueAtTime(.01,n+.3),r.start(n),r.stop(n+.3))}playHit(){if(!this.initialized||!this.ctx||!this.masterGain)return;const t=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="sawtooth",n.frequency.setValueAtTime(200,t),n.frequency.exponentialRampToValueAtTime(10,t+.1),r.gain.setValueAtTime(.1,t),r.gain.exponentialRampToValueAtTime(.01,t+.1),n.connect(r),r.connect(this.masterGain),n.start(t),n.stop(t+.1)}playUI(t){if(!this.initialized||!this.ctx||!this.masterGain)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),s=this.ctx.createGain();if(r.connect(s),s.connect(this.masterGain),t==="click")r.type="triangle",r.frequency.setValueAtTime(1200,n),r.frequency.exponentialRampToValueAtTime(2e3,n+.05),s.gain.setValueAtTime(.1,n),s.gain.exponentialRampToValueAtTime(.001,n+.05),r.start(n),r.stop(n+.05);else if(t==="upgrade"){r.type="sine",r.frequency.setValueAtTime(440,n),r.frequency.linearRampToValueAtTime(880,n+.2);const i=this.ctx.createOscillator();i.type="triangle",i.frequency.setValueAtTime(880,n),i.frequency.linearRampToValueAtTime(1760,n+.2),i.connect(s),i.start(n),i.stop(n+.2),s.gain.setValueAtTime(.2,n),s.gain.linearRampToValueAtTime(.01,n+.3),r.start(n),r.stop(n+.3)}else t==="error"&&(r.type="sawtooth",r.frequency.setValueAtTime(100,n),r.frequency.linearRampToValueAtTime(80,n+.2),s.gain.setValueAtTime(.15,n),s.gain.linearRampToValueAtTime(.01,n+.2),r.start(n),r.stop(n+.2))}}const _r={PROFILE:"clash_defense_profile_v1",GAME_SAVE:"clash_defense_game_save_v1",LEGACY_GAME_SAVE:"clashDefenseSave"},Pu={gems:0,unlockedTechs:{}};class f0{constructor(){K(this,"profile");this.profile=this.load()}load(){try{const t=localStorage.getItem(_r.PROFILE);if(t)return{...Pu,...JSON.parse(t)}}catch(t){console.warn("Failed to load save",t)}return{...Pu}}save(){try{localStorage.setItem(_r.PROFILE,JSON.stringify(this.profile))}catch(t){console.warn("Failed to save",t)}}getProfile(){return this.profile}addGems(t){this.profile.gems+=t,this.save()}spendGems(t){return this.profile.gems>=t?(this.profile.gems-=t,this.save(),!0):!1}unlockTech(t){this.profile.unlockedTechs[t]||(this.profile.unlockedTechs[t]=0),this.profile.unlockedTechs[t]++,this.save()}getTechLevel(t){return this.profile.unlockedTechs[t]||0}}class ju{constructor(t){this.state=t}getNetWorth(){const t=this.state.towers.reduce((n,r)=>{let s=ce[r.type].cost;const i=ce[r.type];for(let o=0;o<r.level-1;o++)i.upgrades[o]&&(s+=i.upgrades[o].cost);return n+s},0);return this.state.gold+t}getTheoreticalMaxDPS(){const t=this.getNetWorth();let n=0;return Object.values(ce).forEach(i=>{const o=i.damage/i.cost;o>n&&(n=o)}),t*X.SPENDABLE_WEALTH_FACTOR*n*X.EFFICIENCY_FACTOR}predictFutureWealth(t){return this.getNetWorth()+t}}class Iu{constructor(t){K(this,"pathCoverageMap",new Map);this.state=t}analyzeMap(){this.pathCoverageMap.clear(),[ce[te.ARROW].range,ce[te.CANNON].range].forEach(n=>{const r=Array(Ve).fill(0).map(()=>Array(_e).fill(0));for(let s=0;s<Ve;s++)for(let i=0;i<_e;i++){if(this.state.currentGrid[s][i]!==he.BUILDABLE)continue;const o=i*A+A/2,l=s*A+A/2,a=this.state.currentPath;let u=0;for(let d=0;d<a.length-1;d++){const m=a[d],h=a[d+1],v=(m.x+h.x)/2*A+A/2,y=(m.y+h.y)/2*A+A/2;(o-v)**2+(l-y)**2<=n**2&&u++}r[s][i]=u}this.pathCoverageMap.set(n,r)})}getBestBuildingSpot(t){this.pathCoverageMap.size===0&&this.analyzeMap();const n=ce[t].range,s=Array.from(this.pathCoverageMap.keys()).reduce((a,u)=>Math.abs(u-n)<Math.abs(a-n)?u:a),i=this.pathCoverageMap.get(s);if(!i)return null;let o=-1,l=null;for(let a=0;a<Ve;a++)for(let u=0;u<_e;u++)this.state.currentGrid[a][u]===he.BUILDABLE&&(this.state.towers.some(d=>d.gridX===u&&d.gridY===a)||i[a][u]>o&&(o=i[a][u],l={x:u,y:a,score:o}));return l}getNextBestMove(t){const n=[te.ARROW,te.CANNON,te.FROST];let r=null,s=null,i=-1;for(const o of n){const l=ce[o];if(t<l.cost)continue;const a=this.getBestBuildingSpot(o);if(!a)continue;const d=l.damage/l.cost*a.score;d>i&&(i=d,r=o,s=a)}return r&&s?{action:"BUILD",type:r,x:s.x,y:s.y}:{action:"WAIT"}}}const oo=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});class zu{constructor(t,n,r,s){this.state=t,this.vfx=n,this.sound=r,this.getDifficultyMultiplier=s}spawnEnemy(t){const n=bs[t],r=this.state.currentPath[0],s=this.getDifficultyMultiplier(),i=(Math.random()-.5)*A*.8;this.state.enemies.push({id:oo(),type:t,x:r.x*A+A/2+i,y:r.y*A+A/2+i,pathIndex:0,hp:n.hp*s,maxHp:n.hp*s,speed:n.speed,shield:n.shieldStrength?n.shieldStrength*s:0,slowTimer:0,slowFactor:0,frozen:!1,incomingDamage:0,laneOffset:i})}spawnProjectile(t,n,r,s,i,o,l,a,u,d,m){this.state.projectiles.push({id:oo(),towerId:t,targetId:n,startX:r,startY:s,x:r,y:s,progress:0,speed:i,damage:o,aoeRadius:u,slowFactor:d,slowDuration:m,hasHit:!1,color:l,arcHeight:a})}spawnFloatingText(t,n,r,s){const i=(Math.random()-.5)*X.FLOATING_TEXT_RANDOM_OFFSET;this.state.effects.push({id:oo(),x:t+i,y:n,text:r,color:s,life:X.FLOATING_TEXT_LIFE_MS})}update(t,n){this.state.enemies.forEach(r=>r.incomingDamage=0),this.state.projectiles.forEach(r=>{if(!r.hasHit){const s=this.state.enemies.find(i=>i.id===r.targetId);s&&(s.incomingDamage+=r.damage)}}),this.updateEnemies(t),this.updateProjectiles(t),this.updateEffects(t,n)}updateEnemies(t){for(let n=this.state.enemies.length-1;n>=0;n--){const r=this.state.enemies[n];let s=r.speed;r.slowTimer>0?(r.slowTimer-=t,s*=1-r.slowFactor,r.frozen=!0):(r.slowFactor=0,r.frozen=!1);const i=this.state.currentPath;if(r.pathIndex<i.length-1){const o=i[r.pathIndex+1],l=r.laneOffset!==void 0?r.laneOffset:0,a=o.x*A+A/2+l,u=o.y*A+A/2+l,d=a-r.x,m=u-r.y,h=Math.sqrt(d*d+m*m),v=s*t/1e3;h<=v?(r.x=a,r.y=u,r.pathIndex++):(r.x+=d/h*v,r.y+=m/h*v)}else{this.state.lives--,this.state.enemies.splice(n,1),this.spawnFloatingText(r.x,r.y,"-1 ","#ef4444"),this.sound.playUI("error");continue}}}updateProjectiles(t){for(let n=this.state.projectiles.length-1;n>=0;n--){const r=this.state.projectiles[n],s=this.state.enemies.find(a=>a.id===r.targetId);if(!s){this.state.projectiles.splice(n,1);continue}const o=Math.sqrt(Math.pow(s.x-r.startX,2)+Math.pow(s.y-r.startY,2))/r.speed*1e3,l=t/o;if(r.progress+=l,r.progress>=1)this.applyDamage(s,r),this.state.projectiles.splice(n,1);else{const a=r.startX+(s.x-r.startX)*r.progress,u=r.startY+(s.y-r.startY)*r.progress,d=4*r.arcHeight*r.progress*(1-r.progress);r.x=a,r.y=u-d}}}updateEffects(t,n){for(let r=this.state.effects.length-1;r>=0;r--){const s=this.state.effects[r];s.life-=t,s.y-=X.FLOATING_TEXT_RISE_SPEED*(n>1?X.FAST_FORWARD_SPEED_MULTIPLIER:1),s.life<=0&&this.state.effects.splice(r,1)}}applyDamage(t,n){const r=[];if(n.aoeRadius){const s=n.aoeRadius*n.aoeRadius;this.state.enemies.forEach(i=>{const o=i.x-t.x,l=i.y-t.y;o*o+l*l<=s&&r.push(i)}),this.vfx.spawnExplosion(t.x,t.y,"#f87171"),this.sound.playHit()}else r.push(t),this.vfx.spawnHit(t.x,t.y,"#fff"),this.sound.playHit();r.forEach(s=>{let i=n.damage;s.shield>0&&(s.shield>=i?(s.shield-=i,i=0,this.spawnFloatingText(s.x,s.y-20,"BLOCKED","#93c5fd"),this.vfx.spawnHit(s.x,s.y,"#3b82f6")):(i-=s.shield,s.shield=0)),s.hp-=i,n.slowFactor&&n.slowDuration&&(s.slowTimer=n.slowDuration,s.slowFactor=n.slowFactor),s.hp<=0&&this.killEnemy(s)})}killEnemy(t){const n=this.state.enemies.findIndex(r=>r.id===t.id);n!==-1&&(this.state.enemies.splice(n,1),this.state.gold+=bs[t.type].reward,this.spawnFloatingText(t.x,t.y,`+${bs[t.type].reward}`,"#fbbf24"),this.vfx.spawnGold(t.x,t.y))}}const h0=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});class Du{constructor(t,n,r,s,i){this.state=t,this.vfx=n,this.sound=r,this.entities=s,this.getTechBonus=i}placeTower(t,n,r){this.sound.init();const s=ce[t];if(this.state.gold<s.cost)return this.sound.playUI("error"),!1;if(this.state.towers.some(l=>l.gridX===n&&l.gridY===r))return!1;if(this.state.currentGrid[r][n]!==he.BUILDABLE)return this.sound.playUI("error"),!1;this.state.gold-=s.cost,this.sound.playUI("click"),this.vfx.spawnExplosion(n*A+A/2,r*A+A/2,"#fff");const i=this.getTechBonus("DAMAGE",t),o=this.getTechBonus("RANGE",t);return this.state.towers.push({id:h0(),type:t,gridX:n,gridY:r,level:1,damage:s.damage*(1+i),range:s.range*(1+o),fireRate:s.fireRate,lastFired:X.TOWER_INITIAL_COOLDOWN,rotation:0,aoeRadius:s.aoeRadius?s.aoeRadius*(1+o):void 0,slowFactor:s.slowFactor,slowDuration:s.slowDuration,targetId:null}),!0}upgradeTower(t,n){const r=this.state.towers.find(l=>l.id===t);if(!r||r.level>=4)return!1;const i=ce[r.type].upgrades[n];if(!i)return!1;if(this.state.gold<i.cost)return this.sound.playUI("error"),!1;this.state.gold-=i.cost,r.level++,this.sound.playUI("upgrade"),this.vfx.spawnExplosion(r.gridX*A+A/2,r.gridY*A+A/2,"#fbbf24");const o=i.value;return i.operation==="multiply"?i.stat==="damage"?r.damage*=1+o:i.stat==="range"?r.range*=1+o:i.stat==="fireRate"?r.fireRate*=1+o:i.stat==="aoeRadius"&&r.aoeRadius?r.aoeRadius*=1+o:i.stat==="slowDuration"&&r.slowDuration?r.slowDuration*=1+o:i.stat==="slowFactor"&&r.slowFactor&&(r.slowFactor*=1+o):i.stat==="damage"?r.damage+=o:i.stat==="range"?r.range+=o:i.stat==="fireRate"?r.fireRate+=o:i.stat==="aoeRadius"&&r.aoeRadius?r.aoeRadius+=o:i.stat==="slowDuration"&&r.slowDuration?r.slowDuration+=o:i.stat==="slowFactor"&&r.slowFactor&&(r.slowFactor+=o),r.slowFactor&&r.slowFactor>X.MAX_SLOW_FACTOR&&(r.slowFactor=X.MAX_SLOW_FACTOR),this.entities.spawnFloatingText(r.gridX*A+A/2,r.gridY*A,`${i.name.toUpperCase()}!`,"#fbbf24"),!0}sellTower(t){const n=this.state.towers.findIndex(i=>i.id===t);if(n===-1)return;const r=this.state.towers[n],s=ce[r.type].cost;this.state.gold+=Math.floor(s*X.SELL_REFUND_PERCENTAGE),this.state.towers.splice(n,1),this.state.selectedTowerId=null,this.sound.playUI("click"),this.vfx.spawnGold(r.gridX*A,r.gridY*A)}moveTower(t,n,r){if(this.state.isWaveActive)return this.sound.playUI("error"),!1;const s=this.state.towers.find(o=>o.id===t);if(!s)return!1;const i=Math.floor(ce[s.type].cost*X.MOVE_COST_PERCENTAGE);return this.state.gold<i?(this.sound.playUI("error"),!1):this.state.currentGrid[r][n]!==he.BUILDABLE?(this.sound.playUI("error"),!1):this.state.towers.some(o=>o.gridX===n&&o.gridY===r&&o.id!==t)?!1:(console.log(`Moving tower ${t} to ${n},${r}. Cost: ${i}`),this.state.gold-=i,s.gridX=n,s.gridY=r,this.sound.playUI("click"),this.vfx.spawnExplosion(n*A+A/2,r*A+A/2,"#fff"),this.entities.spawnFloatingText(n*A,r*A,`-${i} G`,"#fbbf24"),!0)}getNextUpgradeCost(t){const n=this.state.towers.find(i=>i.id===t);if(!n)return null;const r=n.level-1,s=ce[n.type].upgrades;return r>=s.length?null:s[r].cost}update(t){this.state.towers.forEach(n=>{const r=1e3/n.fireRate;n.lastFired=Math.min(n.lastFired+t,r);const s=n.gridX*A+A/2,i=n.gridY*A+A/2;let o=null;if(n.targetId){const l=this.state.enemies.find(a=>a.id===n.targetId);if(l){const a=l.x-s,u=l.y-i;a*a+u*u<=n.range*n.range&&l.hp-l.incomingDamage>0&&(o=l)}}if(!o)for(const l of this.state.enemies){if(l.hp-l.incomingDamage<=0)continue;const a=l.x-s,u=l.y-i;if(a*a+u*u<=n.range*n.range){o=l;break}}if(o){n.targetId=o.id;const l=Math.atan2(o.y-i,o.x-s);if(n.rotation=l,n.lastFired>=r){n.lastFired-=r,this.sound.playShoot(n.type);const a=o.x-s,u=o.y-i,d=Math.sqrt(a*a+u*u),m=n.type===te.CANNON?d*X.CANNON_ARC_HEIGHT_MULTIPLIER:d*X.ARROW_ARC_HEIGHT_MULTIPLIER,h=ce[n.type].projectileSpeed,v=n.type===te.FROST?"bg-cyan-300":n.type===te.CANNON?"bg-stone-900":"bg-yellow-200";this.entities.spawnProjectile(n.id,o.id,s,i-10,h,n.damage,v,m,n.aoeRadius,n.slowFactor,n.slowDuration)}}else n.targetId=null})}}class Fu{constructor(t,n,r,s,i,o){K(this,"waveQueue",[]);K(this,"spawnTimer",0);this.state=t,this.entities=n,this.vfx=r,this.sound=s,this.getDifficultyMultiplier=i,this.getTheoreticalDPS=o}startNextWave(t){if(this.sound.init(),this.state.isWaveActive)return;this.state.wave>0&&this.state.wave%6===0&&(this.regenerateMap(),this.entities.spawnFloatingText(Um/2,Bm/2,"MAP SHIFT!","#f472b6"),this.sound.playUI("upgrade"));let n=t.waves[this.state.wave];if(!n){const s=X.WAVE_AUTO_GENERATE_COUNT+Math.floor(this.state.wave*X.WAVE_AUTO_GENERATE_COUNT_SCALING),i=[P.GRUNT,P.RUNNER,P.TANK,P.SHIELDED];n={enemies:[{type:i[Math.floor(Math.random()*i.length)],count:s}],interval:Math.max(X.WAVE_AUTO_GENERATE_MIN_INTERVAL,X.WAVE_AUTO_GENERATE_INTERVAL-this.state.wave*X.WAVE_AUTO_GENERATE_INTERVAL_SCALING)}}const r=this.balanceWave(n.enemies);this.waveQueue=r.map(s=>({...s})),this.state.wave++,this.state.isWaveActive=!0,this.spawnTimer=n.interval,this.sound.playUI("click")}balanceWave(t){const n=this.getTheoreticalDPS();let r=0;const s=this.getDifficultyMultiplier();t.forEach(u=>{const d=bs[u.type];r+=(d.hp+(d.shieldStrength||0))*u.count*s});const i=this.state.currentPath.length*A,o=1*A,l=i/o,a=r/l;if(console.log(`[Balance] Potential DPS: ${n.toFixed(2)}, Required DPS: ${a.toFixed(2)}`),a>n){const u=n/a;return console.log(`[Balance] Nerfing wave by factor ${u.toFixed(2)} to ensure winnability.`),t.map(d=>({type:d.type,count:Math.max(1,Math.floor(d.count*u*X.WAVE_BALANCE_NERF_SAFETY_FACTOR))}))}else{const u=X.WAVE_BALANCE_BUFF_THRESHOLD;if(n/Math.max(1,a)>u){const h=n*X.WAVE_BALANCE_BUFF_TARGET_FACTOR/Math.max(1,a);return console.log(`[Balance] Buffing wave by factor ${h.toFixed(2)} to maintain challenge.`),t.map(v=>({type:v.type,count:Math.ceil(v.count*h)}))}}return t}update(t,n,r){var s;if(this.state.isWaveActive){this.spawnTimer+=t;const i=((s=n.waves[this.state.wave-1])==null?void 0:s.interval)||1e3;if(this.spawnTimer>=i&&this.waveQueue.length>0){const l=this.waveQueue.findIndex(a=>a.count>0);if(l!==-1){const a=this.waveQueue[l];this.entities.spawnEnemy(a.type),a.count--,this.spawnTimer=-(Math.random()*i*.3)}}this.waveQueue.every(l=>l.count<=0)&&this.state.enemies.length===0&&(this.state.isWaveActive=!1,this.state.levelIndex<Sn.length-1&&this.state.wave>=n.waves.length&&this.state.wave%6!==0&&r(!0))}}regenerateMap(){const t=this.generateRandomPath(),n=Ls();Os(n,t),this.state.currentPath=t,this.state.currentGrid=n,this.state.towers=this.state.towers.filter(r=>{if(n[r.gridY][r.gridX]!==he.BUILDABLE){const s=ce[r.type].cost;return this.state.gold+=s,this.vfx.spawnGold(r.gridX*A+A/2,r.gridY*A),!1}return!0}),this.state.enemies=[]}generateRandomPath(){const t=Math.floor(Math.random()*(Ve-2))+1,n=[{x:0,y:t}];let r=0,s=t;for(;r<_e-1;){const i=[];i.push({x:r+1,y:s}),s>1&&(n.length<2||n[n.length-2].y>=s)&&i.push({x:r,y:s-1}),s<Ve-2&&(n.length<2||n[n.length-2].y<=s)&&i.push({x:r,y:s+1});const o=Math.random();let l;if(o<.6||r===_e-2)l={x:r+1,y:s};else{const a=i.filter(u=>u.x===r);l=a.length>0?a[Math.floor(Math.random()*a.length)]:{x:r+1,y:s}}n.find(a=>a.x===l.x&&a.y===l.y)?(r++,n.push({x:r,y:s})):(n.push(l),r=l.x,s=l.y)}return n}}function xf(e,t){return function(){return e.apply(t,arguments)}}const{toString:p0}=Object.prototype,{getPrototypeOf:fa}=Object,{iterator:Ri,toStringTag:Sf}=Symbol,Ci=(e=>t=>{const n=p0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ut=e=>(e=e.toLowerCase(),t=>Ci(t)===e),Ai=e=>t=>typeof t===e,{isArray:Xn}=Array,qn=Ai("undefined");function Gr(e){return e!==null&&!qn(e)&&e.constructor!==null&&!qn(e.constructor)&&ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ef=ut("ArrayBuffer");function m0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ef(e.buffer),t}const g0=Ai("string"),ze=Ai("function"),_f=Ai("number"),qr=e=>e!==null&&typeof e=="object",y0=e=>e===!0||e===!1,Ps=e=>{if(Ci(e)!=="object")return!1;const t=fa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Sf in e)&&!(Ri in e)},v0=e=>{if(!qr(e)||Gr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},w0=ut("Date"),x0=ut("File"),S0=ut("Blob"),E0=ut("FileList"),_0=e=>qr(e)&&ze(e.pipe),N0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ze(e.append)&&((t=Ci(e))==="formdata"||t==="object"&&ze(e.toString)&&e.toString()==="[object FormData]"))},T0=ut("URLSearchParams"),[k0,R0,C0,A0]=["ReadableStream","Request","Response","Headers"].map(ut),b0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Xn(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Gr(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Nf(e,t){if(Gr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tf=e=>!qn(e)&&e!==sn;function al(){const{caseless:e,skipUndefined:t}=Tf(this)&&this||{},n={},r=(s,i)=>{const o=e&&Nf(n,i)||i;Ps(n[o])&&Ps(s)?n[o]=al(n[o],s):Ps(s)?n[o]=al({},s):Xn(s)?n[o]=s.slice():(!t||!qn(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Yr(arguments[s],r);return n}const L0=(e,t,n,{allOwnKeys:r}={})=>(Yr(t,(s,i)=>{n&&ze(s)?Object.defineProperty(e,i,{value:xf(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),O0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},j0=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&fa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},I0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},z0=e=>{if(!e)return null;if(Xn(e))return e;let t=e.length;if(!_f(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},D0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fa(Uint8Array)),F0=(e,t)=>{const r=(e&&e[Ri]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},M0=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},U0=ut("HTMLFormElement"),B0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Mu=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),V0=ut("RegExp"),kf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Yr(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},$0=e=>{kf(e,(t,n)=>{if(ze(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ze(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H0=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Xn(e)?r(e):r(String(e).split(t)),n},W0=()=>{},G0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function q0(e){return!!(e&&ze(e.append)&&e[Sf]==="FormData"&&e[Ri])}const Y0=e=>{const t=new Array(10),n=(r,s)=>{if(qr(r)){if(t.indexOf(r)>=0)return;if(Gr(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Xn(r)?[]:{};return Yr(r,(o,l)=>{const a=n(o,s+1);!qn(a)&&(i[l]=a)}),t[s]=void 0,i}}return r};return n(e,0)},K0=ut("AsyncFunction"),Q0=e=>e&&(qr(e)||ze(e))&&ze(e.then)&&ze(e.catch),Rf=((e,t)=>e?setImmediate:t?((n,r)=>(sn.addEventListener("message",({source:s,data:i})=>{s===sn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),sn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ze(sn.postMessage)),X0=typeof queueMicrotask<"u"?queueMicrotask.bind(sn):typeof process<"u"&&process.nextTick||Rf,J0=e=>e!=null&&ze(e[Ri]),x={isArray:Xn,isArrayBuffer:Ef,isBuffer:Gr,isFormData:N0,isArrayBufferView:m0,isString:g0,isNumber:_f,isBoolean:y0,isObject:qr,isPlainObject:Ps,isEmptyObject:v0,isReadableStream:k0,isRequest:R0,isResponse:C0,isHeaders:A0,isUndefined:qn,isDate:w0,isFile:x0,isBlob:S0,isRegExp:V0,isFunction:ze,isStream:_0,isURLSearchParams:T0,isTypedArray:D0,isFileList:E0,forEach:Yr,merge:al,extend:L0,trim:b0,stripBOM:O0,inherits:P0,toFlatObject:j0,kindOf:Ci,kindOfTest:ut,endsWith:I0,toArray:z0,forEachEntry:F0,matchAll:M0,isHTMLForm:U0,hasOwnProperty:Mu,hasOwnProp:Mu,reduceDescriptors:kf,freezeMethods:$0,toObjectSet:H0,toCamelCase:B0,noop:W0,toFiniteNumber:G0,findKey:Nf,global:sn,isContextDefined:Tf,isSpecCompliantForm:q0,toJSONObject:Y0,isAsyncFn:K0,isThenable:Q0,setImmediate:Rf,asap:X0,isIterable:J0};let j=class Cf extends Error{static from(t,n,r,s,i,o){const l=new Cf(t.message,n||t.code,r,s,i);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}};j.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";j.ERR_BAD_OPTION="ERR_BAD_OPTION";j.ECONNABORTED="ECONNABORTED";j.ETIMEDOUT="ETIMEDOUT";j.ERR_NETWORK="ERR_NETWORK";j.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";j.ERR_DEPRECATED="ERR_DEPRECATED";j.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";j.ERR_BAD_REQUEST="ERR_BAD_REQUEST";j.ERR_CANCELED="ERR_CANCELED";j.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";j.ERR_INVALID_URL="ERR_INVALID_URL";const Z0=null;function ul(e){return x.isPlainObject(e)||x.isArray(e)}function Af(e){return x.endsWith(e,"[]")?e.slice(0,-2):e}function Uu(e,t,n){return e?e.concat(t).map(function(s,i){return s=Af(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function eg(e){return x.isArray(e)&&!e.some(ul)}const tg=x.toFlatObject(x,{},null,function(t){return/^is[A-Z]/.test(t)});function bi(e,t,n){if(!x.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=x.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!x.isUndefined(S[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(t);if(!x.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(x.isDate(y))return y.toISOString();if(x.isBoolean(y))return y.toString();if(!a&&x.isBlob(y))throw new j("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(y)||x.isTypedArray(y)?a&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,S){let p=y;if(y&&!S&&typeof y=="object"){if(x.endsWith(w,"{}"))w=r?w:w.slice(0,-2),y=JSON.stringify(y);else if(x.isArray(y)&&eg(y)||(x.isFileList(y)||x.endsWith(w,"[]"))&&(p=x.toArray(y)))return w=Af(w),p.forEach(function(g,E){!(x.isUndefined(g)||g===null)&&t.append(o===!0?Uu([w],E,i):o===null?w:w+"[]",u(g))}),!1}return ul(y)?!0:(t.append(Uu(S,w,i),u(y)),!1)}const m=[],h=Object.assign(tg,{defaultVisitor:d,convertValue:u,isVisitable:ul});function v(y,w){if(!x.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(y),x.forEach(y,function(p,f){(!(x.isUndefined(p)||p===null)&&s.call(t,p,x.isString(f)?f.trim():f,w,h))===!0&&v(p,w?w.concat(f):[f])}),m.pop()}}if(!x.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Bu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ha(e,t){this._pairs=[],e&&bi(e,this,t)}const bf=ha.prototype;bf.append=function(t,n){this._pairs.push([t,n])};bf.toString=function(t){const n=t?function(r){return t.call(this,r,Bu)}:Bu;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ng(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lf(e,t,n){if(!t)return e;const r=n&&n.encode||ng,s=x.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let o;if(i?o=i(t,s):o=x.isURLSearchParams(t)?t.toString():new ha(t,s).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Vu{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){x.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Of={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rg=typeof URLSearchParams<"u"?URLSearchParams:ha,sg=typeof FormData<"u"?FormData:null,ig=typeof Blob<"u"?Blob:null,og={isBrowser:!0,classes:{URLSearchParams:rg,FormData:sg,Blob:ig},protocols:["http","https","file","blob","url","data"]},pa=typeof window<"u"&&typeof document<"u",cl=typeof navigator=="object"&&navigator||void 0,lg=pa&&(!cl||["ReactNative","NativeScript","NS"].indexOf(cl.product)<0),ag=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ug=pa&&window.location.href||"http://localhost",cg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pa,hasStandardBrowserEnv:lg,hasStandardBrowserWebWorkerEnv:ag,navigator:cl,origin:ug},Symbol.toStringTag,{value:"Module"})),Ne={...cg,...og};function dg(e,t){return bi(e,new Ne.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ne.isNode&&x.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function fg(e){return x.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hg(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Pf(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=i>=n.length;return o=!o&&x.isArray(s)?s.length:o,a?(x.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!x.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&x.isArray(s[o])&&(s[o]=hg(s[o])),!l)}if(x.isFormData(e)&&x.isFunction(e.entries)){const n={};return x.forEachEntry(e,(r,s)=>{t(fg(r),s,n,0)}),n}return null}function pg(e,t,n){if(x.isString(e))try{return(t||JSON.parse)(e),x.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Kr={transitional:Of,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=x.isObject(t);if(i&&x.isHTMLForm(t)&&(t=new FormData(t)),x.isFormData(t))return s?JSON.stringify(Pf(t)):t;if(x.isArrayBuffer(t)||x.isBuffer(t)||x.isStream(t)||x.isFile(t)||x.isBlob(t)||x.isReadableStream(t))return t;if(x.isArrayBufferView(t))return t.buffer;if(x.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dg(t,this.formSerializer).toString();if((l=x.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return bi(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),pg(t)):t}],transformResponse:[function(t){const n=this.transitional||Kr.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(x.isResponse(t)||x.isReadableStream(t))return t;if(t&&x.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?j.from(l,j.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],e=>{Kr.headers[e]={}});const mg=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gg=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&mg[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$u=Symbol("internals");function lr(e){return e&&String(e).trim().toLowerCase()}function js(e){return e===!1||e==null?e:x.isArray(e)?e.map(js):String(e)}function yg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const vg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lo(e,t,n,r,s){if(x.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!x.isString(t)){if(x.isString(r))return t.indexOf(r)!==-1;if(x.isRegExp(r))return r.test(t)}}function wg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function xg(e,t){const n=x.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let De=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,a,u){const d=lr(a);if(!d)throw new Error("header name must be a non-empty string");const m=x.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||a]=js(l))}const o=(l,a)=>x.forEach(l,(u,d)=>i(u,d,a));if(x.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(x.isString(t)&&(t=t.trim())&&!vg(t))o(gg(t),n);else if(x.isObject(t)&&x.isIterable(t)){let l={},a,u;for(const d of t){if(!x.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(a=l[u])?x.isArray(a)?[...a,d[1]]:[a,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=lr(t),t){const r=x.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return yg(s);if(x.isFunction(n))return n.call(this,s,r);if(x.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=lr(t),t){const r=x.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||lo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=lr(o),o){const l=x.findKey(r,o);l&&(!n||lo(r,r[l],l,n))&&(delete r[l],s=!0)}}return x.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||lo(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return x.forEach(this,(s,i)=>{const o=x.findKey(r,i);if(o){n[o]=js(s),delete n[i];return}const l=t?wg(i):String(i).trim();l!==i&&delete n[i],n[l]=js(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return x.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&x.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[$u]=this[$u]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=lr(o);r[l]||(xg(s,o),r[l]=!0)}return x.isArray(t)?t.forEach(i):i(t),this}};De.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(De.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});x.freezeMethods(De);function ao(e,t){const n=this||Kr,r=t||n,s=De.from(r.headers);let i=r.data;return x.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function jf(e){return!!(e&&e.__CANCEL__)}let Qr=class extends j{constructor(t,n,r){super(t??"canceled",j.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function If(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Sg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Eg(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(a){const u=Date.now(),d=r[i];o||(o=u),n[s]=a,r[s]=u;let m=i,h=0;for(;m!==s;)h+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const v=d&&u-d;return v?Math.round(h*1e3/v):void 0}}function _g(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-n;m>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const ci=(e,t,n=3)=>{let r=0;const s=Eg(50,250);return _g(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,a=o-r,u=s(a),d=o<=l;r=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},Hu=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Wu=e=>(...t)=>x.asap(()=>e(...t)),Ng=Ne.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ne.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,Tg=Ne.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];x.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),x.isString(r)&&l.push(`path=${r}`),x.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),x.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zf(e,t,n){let r=!kg(t);return e&&(r||n==!1)?Rg(e,t):t}const Gu=e=>e instanceof De?{...e}:e;function pn(e,t){t=t||{};const n={};function r(u,d,m,h){return x.isPlainObject(u)&&x.isPlainObject(d)?x.merge.call({caseless:h},u,d):x.isPlainObject(d)?x.merge({},d):x.isArray(d)?d.slice():d}function s(u,d,m,h){if(x.isUndefined(d)){if(!x.isUndefined(u))return r(void 0,u,m,h)}else return r(u,d,m,h)}function i(u,d){if(!x.isUndefined(d))return r(void 0,d)}function o(u,d){if(x.isUndefined(d)){if(!x.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,m){if(m in t)return r(u,d);if(m in e)return r(void 0,u)}const a={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,m)=>s(Gu(u),Gu(d),m,!0)};return x.forEach(Object.keys({...e,...t}),function(d){const m=a[d]||s,h=m(e[d],t[d],d);x.isUndefined(h)&&m!==l||(n[d]=h)}),n}const Df=e=>{const t=pn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=De.from(o),t.url=Lf(zf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),x.isFormData(n)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(x.isFunction(n.getHeaders)){const a=n.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([d,m])=>{u.includes(d.toLowerCase())&&o.set(d,m)})}}if(Ne.hasStandardBrowserEnv&&(r&&x.isFunction(r)&&(r=r(t)),r||r!==!1&&Ng(t.url))){const a=s&&i&&Tg.read(i);a&&o.set(s,a)}return t},Cg=typeof XMLHttpRequest<"u",Ag=Cg&&function(e){return new Promise(function(n,r){const s=Df(e);let i=s.data;const o=De.from(s.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:u}=s,d,m,h,v,y;function w(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function p(){if(!S)return;const g=De.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:g,config:e,request:S};If(function(k){n(k),w()},function(k){r(k),w()},T),S=null}"onloadend"in S?S.onloadend=p:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(p)},S.onabort=function(){S&&(r(new j("Request aborted",j.ECONNABORTED,e,S)),S=null)},S.onerror=function(E){const T=E&&E.message?E.message:"Network Error",C=new j(T,j.ERR_NETWORK,e,S);C.event=E||null,r(C),S=null},S.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||Of;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),r(new j(E,T.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&x.forEach(o.toJSON(),function(E,T){S.setRequestHeader(T,E)}),x.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),u&&([h,y]=ci(u,!0),S.addEventListener("progress",h)),a&&S.upload&&([m,v]=ci(a),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=g=>{S&&(r(!g||g.type?new Qr(null,e,S):g),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const f=Sg(s.url);if(f&&Ne.protocols.indexOf(f)===-1){r(new j("Unsupported protocol "+f+":",j.ERR_BAD_REQUEST,e));return}S.send(i||null)})},bg=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof j?d:new Qr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new j(`timeout of ${t}ms exceeded`,j.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>x.asap(l),a}},Lg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Og=async function*(e,t){for await(const n of Pg(e))yield*Lg(n,t)},Pg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qu=(e,t,n,r)=>{const s=Og(e,t);let i=0,o,l=a=>{o||(o=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:u,value:d}=await s.next();if(u){l(),a.close();return}let m=d.byteLength;if(n){let h=i+=m;n(h)}a.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(a){return l(a),s.return()}},{highWaterMark:2})},Yu=64*1024,{isFunction:ms}=x,jg=(({Request:e,Response:t})=>({Request:e,Response:t}))(x.global),{ReadableStream:Ku,TextEncoder:Qu}=x.global,Xu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ig=e=>{e=x.merge.call({skipUndefined:!0},jg,e);const{fetch:t,Request:n,Response:r}=e,s=t?ms(t):typeof fetch=="function",i=ms(n),o=ms(r);if(!s)return!1;const l=s&&ms(Ku),a=s&&(typeof Qu=="function"?(y=>w=>y.encode(w))(new Qu):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=i&&l&&Xu(()=>{let y=!1;const w=new n(Ne.origin,{body:new Ku,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),d=o&&l&&Xu(()=>x.isReadableStream(new r("").body)),m={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(w,S)=>{let p=w&&w[y];if(p)return p.call(w);throw new j(`Response type '${y}' is not supported`,j.ERR_NOT_SUPPORT,S)})});const h=async y=>{if(y==null)return 0;if(x.isBlob(y))return y.size;if(x.isSpecCompliantForm(y))return(await new n(Ne.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(x.isArrayBufferView(y)||x.isArrayBuffer(y))return y.byteLength;if(x.isURLSearchParams(y)&&(y=y+""),x.isString(y))return(await a(y)).byteLength},v=async(y,w)=>{const S=x.toFiniteNumber(y.getContentLength());return S??h(w)};return async y=>{let{url:w,method:S,data:p,signal:f,cancelToken:g,timeout:E,onDownloadProgress:T,onUploadProgress:C,responseType:k,headers:L,withCredentials:W="same-origin",fetchOptions:z}=Df(y),me=t||fetch;k=k?(k+"").toLowerCase():"text";let Ge=bg([f,g&&g.toAbortSignal()],E),Fe=null;const qe=Ge&&Ge.unsubscribe&&(()=>{Ge.unsubscribe()});let yn;try{if(C&&u&&S!=="get"&&S!=="head"&&(yn=await v(L,p))!==0){let $=new n(w,{method:"POST",body:p,duplex:"half"}),q;if(x.isFormData(p)&&(q=$.headers.get("content-type"))&&L.setContentType(q),$.body){const[dt,ke]=Hu(yn,ci(Wu(C)));p=qu($.body,Yu,dt,ke)}}x.isString(W)||(W=W?"include":"omit");const we=i&&"credentials"in n.prototype,U={...z,signal:Ge,method:S.toUpperCase(),headers:L.normalize().toJSON(),body:p,duplex:"half",credentials:we?W:void 0};Fe=i&&new n(w,U);let N=await(i?me(Fe,z):me(w,U));const O=d&&(k==="stream"||k==="response");if(d&&(T||O&&qe)){const $={};["status","statusText","headers"].forEach(vn=>{$[vn]=N[vn]});const q=x.toFiniteNumber(N.headers.get("content-length")),[dt,ke]=T&&Hu(q,ci(Wu(T),!0))||[];N=new r(qu(N.body,Yu,dt,()=>{ke&&ke(),qe&&qe()}),$)}k=k||"text";let I=await m[x.findKey(m,k)||"text"](N,y);return!O&&qe&&qe(),await new Promise(($,q)=>{If($,q,{data:I,headers:De.from(N.headers),status:N.status,statusText:N.statusText,config:y,request:Fe})})}catch(we){throw qe&&qe(),we&&we.name==="TypeError"&&/Load failed|fetch/i.test(we.message)?Object.assign(new j("Network Error",j.ERR_NETWORK,y,Fe),{cause:we.cause||we}):j.from(we,we&&we.code,y,Fe)}}},zg=new Map,Ff=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,a,u,d=zg;for(;l--;)a=i[l],u=d.get(a),u===void 0&&d.set(a,u=l?new Map:Ig(t)),d=u;return u};Ff();const ma={http:Z0,xhr:Ag,fetch:{get:Ff}};x.forEach(ma,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ju=e=>`- ${e}`,Dg=e=>x.isFunction(e)||e===null||e===!1;function Fg(e,t){e=x.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!Dg(r)&&(s=ma[(l=String(r)).toLowerCase()],s===void 0))throw new j(`Unknown adapter '${l}'`);if(s&&(x.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Ju).join(`
`):" "+Ju(o[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Mf={getAdapter:Fg,adapters:ma};function uo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qr(null,e)}function Zu(e){return uo(e),e.headers=De.from(e.headers),e.data=ao.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mf.getAdapter(e.adapter||Kr.adapter,e)(e).then(function(r){return uo(e),r.data=ao.call(e,e.transformResponse,r),r.headers=De.from(r.headers),r},function(r){return jf(r)||(uo(e),r&&r.response&&(r.response.data=ao.call(e,e.transformResponse,r.response),r.response.headers=De.from(r.response.headers))),Promise.reject(r)})}const Uf="1.13.4",Li={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Li[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ec={};Li.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Uf+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new j(s(o," has been removed"+(n?" in "+n:"")),j.ERR_DEPRECATED);return n&&!ec[o]&&(ec[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Li.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Mg(e,t,n){if(typeof e!="object")throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],a=l===void 0||o(l,i,e);if(a!==!0)throw new j("option "+i+" must be "+a,j.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new j("Unknown option "+i,j.ERR_BAD_OPTION)}}const Is={assertOptions:Mg,validators:Li},ht=Is.validators;let an=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vu,response:new Vu}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=pn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Is.assertOptions(r,{silentJSONParsing:ht.transitional(ht.boolean),forcedJSONParsing:ht.transitional(ht.boolean),clarifyTimeoutError:ht.transitional(ht.boolean)},!1),s!=null&&(x.isFunction(s)?n.paramsSerializer={serialize:s}:Is.assertOptions(s,{encode:ht.function,serialize:ht.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Is.assertOptions(n,{baseUrl:ht.spelling("baseURL"),withXsrfToken:ht.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&x.merge(i.common,i[n.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=De.concat(o,i);const l=[];let a=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(a=a&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,m=0,h;if(!a){const y=[Zu.bind(this),void 0];for(y.unshift(...l),y.push(...u),h=y.length,d=Promise.resolve(n);m<h;)d=d.then(y[m++],y[m++]);return d}h=l.length;let v=n;for(;m<h;){const y=l[m++],w=l[m++];try{v=y(v)}catch(S){w.call(this,S);break}}try{d=Zu.call(this,v)}catch(y){return Promise.reject(y)}for(m=0,h=u.length;m<h;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=pn(this.defaults,t);const n=zf(t.baseURL,t.url,t.allowAbsoluteUrls);return Lf(n,t.params,t.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(t){an.prototype[t]=function(n,r){return this.request(pn(r||{},{method:t,url:n,data:(r||{}).data}))}});x.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(pn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}an.prototype[t]=n(),an.prototype[t+"Form"]=n(!0)});let Ug=class Bf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Qr(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Bf(function(s){t=s}),cancel:t}}};function Bg(e){return function(n){return e.apply(null,n)}}function Vg(e){return x.isObject(e)&&e.isAxiosError===!0}const dl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dl).forEach(([e,t])=>{dl[t]=e});function Vf(e){const t=new an(e),n=xf(an.prototype.request,t);return x.extend(n,an.prototype,t,{allOwnKeys:!0}),x.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Vf(pn(e,s))},n}const oe=Vf(Kr);oe.Axios=an;oe.CanceledError=Qr;oe.CancelToken=Ug;oe.isCancel=jf;oe.VERSION=Uf;oe.toFormData=bi;oe.AxiosError=j;oe.Cancel=oe.CanceledError;oe.all=function(t){return Promise.all(t)};oe.spread=Bg;oe.isAxiosError=Vg;oe.mergeConfig=pn;oe.AxiosHeaders=De;oe.formToJSON=e=>Pf(x.isHTMLForm(e)?new FormData(e):e);oe.getAdapter=Mf.getAdapter;oe.HttpStatusCode=dl;oe.default=oe;const{Axios:dv,AxiosError:fv,CanceledError:hv,isCancel:pv,CancelToken:mv,VERSION:gv,all:yv,Cancel:vv,isAxiosError:wv,spread:xv,toFormData:Sv,AxiosHeaders:Ev,HttpStatusCode:_v,formToJSON:Nv,getAdapter:Tv,mergeConfig:kv}=oe,$g="http://localhost:3001/api",ct=oe.create({baseURL:$g,headers:{"Content-Type":"application/json"},timeout:1e4});ct.interceptors.request.use(e=>e,e=>Promise.reject(e));ct.interceptors.response.use(e=>e,e=>{if(e.response)switch(e.response.status){case 401:console.error("Unauthorized: Session expired"),window.dispatchEvent(new CustomEvent("auth:required"));break;case 403:console.error("Forbidden:",e.response.data);break;case 429:console.error("Rate limited:",e.response.data);break;case 500:console.error("Server error:",e.response.data);break;default:console.error("API error:",e.response.data)}else e.request?console.error("Network error - no response received"):console.error("Error setting up request:",e.message);return Promise.reject(e)});const Hg=async(e,t=1,n=20)=>(await ct.get(`/leaderboard/${e}`,{params:{page:t,limit:n}})).data,Wg=async e=>(await ct.get(`/leaderboard/${e}/me`)).data.entry,$f=async e=>(await ct.post(`/leaderboard/${e.levelId}/submit`,e)).data,Gg=async()=>(await ct.get("/leaderboard/global/stats")).data;class qg{constructor(t=0){K(this,"state");K(this,"autoPilotEnabled",!1);K(this,"autoPilotTimer",0);K(this,"vfx");K(this,"sound");K(this,"persistence");K(this,"entities");K(this,"towers");K(this,"waves");K(this,"economy");K(this,"strategy");K(this,"currentLevelConfig");this.vfx=new Vm,this.sound=new d0,this.persistence=new f0,this.currentLevelConfig=Sn[t],this.state=this.initializeState(t),this.economy=new ju(this.state),this.strategy=new Iu(this.state),this.strategy.analyzeMap();const n=()=>this.state.difficultyMultiplier,r=(i,o)=>this.getTechBonus(i,o),s=()=>this.economy.getTheoreticalMaxDPS();this.entities=new zu(this.state,this.vfx,this.sound,n),this.towers=new Du(this.state,this.vfx,this.sound,this.entities,r),this.waves=new Fu(this.state,this.entities,this.vfx,this.sound,n,s)}getTechBonus(t,n){let r=0;const s=this.persistence.getProfile();return ll.forEach(i=>{if(i.effectType===t&&(i.target==="ALL"||i.target===n)){const o=s.unlockedTechs[i.id]||0;r+=o*i.effectValue}}),r}initializeState(t){const n=Sn[t],r=this.getTechBonus("GOLD"),s=this.getTechBonus("LIVES");return{levelIndex:t,status:G.MENU,gold:n.startingGold+r,lives:n.startingLives+s,wave:0,isWaveActive:!1,nextWaveTime:0,towers:[],enemies:[],projectiles:[],effects:[],selectedTowerId:null,gameSpeed:1,currentGrid:JSON.parse(JSON.stringify(n.grid)),currentPath:[...n.path],difficultyMultiplier:1,showTechTree:!1,autoWaveTimer:0,playTimeMs:0}}startGame(){this.sound.init(),this.state.status=G.PLAYING}toggleTechTree(){this.state.showTechTree=!this.state.showTechTree,this.state.status=this.state.showTechTree?G.PAUSED:G.PLAYING}pauseGame(){this.state.status===G.PLAYING?this.state.status=G.PAUSED:this.state.status===G.PAUSED&&(this.state.status=G.PLAYING)}setGameSpeed(t){this.state.gameSpeed=t}nextLevel(){const t=this.state.levelIndex+1;t<Sn.length&&(this.currentLevelConfig=Sn[t],this.resetGame(t))}retryLevel(){this.resetGame(this.state.levelIndex)}resetGame(t){this.state=this.initializeState(t),this.currentLevelConfig=Sn[t],this.economy=new ju(this.state),this.strategy=new Iu(this.state),this.strategy.analyzeMap();const n=()=>this.state.difficultyMultiplier,r=(i,o)=>this.getTechBonus(i,o),s=()=>this.economy.getTheoreticalMaxDPS();this.entities=new zu(this.state,this.vfx,this.sound,n),this.towers=new Du(this.state,this.vfx,this.sound,this.entities,r),this.waves=new Fu(this.state,this.entities,this.vfx,this.sound,n,s),this.state.status=G.PLAYING}placeTower(t,n,r){return this.towers.placeTower(t,n,r)}upgradeTower(t,n){return this.towers.upgradeTower(t,n)}sellTower(t){this.towers.sellTower(t)}moveTower(t,n,r){return this.towers.moveTower(t,n,r)}getNextUpgradeCost(t){return this.towers.getNextUpgradeCost(t)}startNextWave(){this.waves.startNextWave(this.currentLevelConfig)}updateDifficulty(){const t=X;let n=t.DIFFICULTY_BASE_MULT+this.state.wave*t.DIFFICULTY_WAVE_SCALING;this.state.gold>t.DIFFICULTY_RICH_PLAYER_THRESHOLD&&(n+=t.DIFFICULTY_RICH_PLAYER_PENALTY),this.state.lives>=this.currentLevelConfig.startingLives&&(n+=t.DIFFICULTY_FULL_HP_PENALTY),this.state.towers.length>0&&this.state.towers.reduce((s,i)=>s+i.level,0)/this.state.towers.length>t.DIFFICULTY_HIGH_LEVEL_THRESHOLD&&(n+=t.DIFFICULTY_HIGH_LEVEL_PENALTY),this.state.difficultyMultiplier=n}endGame(t){this.state.status=t?G.VICTORY:G.DEFEAT;const n=10+(t?20:0);this.persistence.addGems(n),t?this.sound.playUI("upgrade"):this.sound.playUI("error"),this.autoSubmitScore()}async autoSubmitScore(){try{await $f({levelId:this.currentLevelConfig.id,wavesSurvived:this.state.wave,goldRemaining:this.state.gold,livesRemaining:this.state.lives,towersBuilt:this.state.towers.length,playTimeSeconds:Math.floor(this.state.playTimeMs/1e3)}),console.log(" Score auto-submitted to leaderboard")}catch(t){console.warn("Leaderboard auto-submit failed (user may not be authenticated):",t)}}update(t){if(this.state.status!==G.PLAYING)return;const n=t*this.state.gameSpeed;if(this.updateDifficulty(),this.vfx.update(n),this.entities.update(n,this.state.gameSpeed),this.towers.update(n),this.state.playTimeMs+=n,this.towers.update(n),this.waves.update(n,this.currentLevelConfig,r=>{this.endGame(r)}),!this.state.isWaveActive&&this.state.status===G.PLAYING&&this.state.wave<this.currentLevelConfig.waves.length?this.state.wave>0&&(this.state.autoWaveTimer-=n,this.state.autoWaveTimer<=0&&this.startNextWave()):this.state.autoWaveTimer=X.AUTO_WAVE_TIMER_MS,this.autoPilotEnabled&&(this.autoPilotTimer+=n,this.autoPilotTimer>X.AI_THINK_INTERVAL_MS)){this.autoPilotTimer=0;const r=this.strategy.getNextBestMove(this.state.gold);r.action==="BUILD"&&r.type&&r.x!==void 0&&r.y!==void 0&&this.placeTower(r.type,r.x,r.y)}this.state.lives<=0&&this.endGame(!1)}}const Yg=()=>c.jsx("svg",{width:"0",height:"0",className:"absolute",children:c.jsxs("defs",{children:[c.jsxs("filter",{id:"glow-blue",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsxs("filter",{id:"glow-red",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsxs("linearGradient",{id:"grad-metal",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#cbd5e1"}),c.jsx("stop",{offset:"100%",stopColor:"#475569"})]})]})}),Kg=({type:e})=>e===he.BUILDABLE?c.jsxs("div",{className:"w-full h-full border-[0.5px] border-slate-700/30 bg-slate-900/50 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-cyan-500/5 opacity-0 group-hover:opacity-20 transition-opacity"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-0.5 h-0.5 bg-slate-600/50 rounded-full"})]}):e===he.PATH?c.jsx("div",{className:"w-full h-full bg-slate-800/80 relative shadow-[inset_0_0_10px_rgba(0,0,0,0.8)] border-x border-slate-700/50",children:c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.02)_25%,rgba(255,255,255,0.02)_50%,transparent_50%,transparent_75%,rgba(255,255,255,0.02)_75%,rgba(255,255,255,0.02)_100%)]",style:{backgroundSize:`${A/4}px ${A/4}px`}})}):e===he.START?c.jsxs("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center relative shadow-[inset_0_0_20px_rgba(34,211,238,0.2)]",children:[c.jsx("div",{className:"w-[75%] h-[75%] rounded-full border-2 border-dashed border-cyan-500/50 animate-spin-slow"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-cyan-500 font-bold text-xs tracking-widest",children:"IN"})]}):e===he.END?c.jsxs("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center relative shadow-[inset_0_0_20px_rgba(239,68,68,0.2)]",children:[c.jsx("div",{className:"w-[75%] h-[75%] rounded-full border-2 border-red-500/50 animate-pulse"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-red-500 font-bold text-xs tracking-widest",children:"BASE"})]}):null,Hf=({type:e,level:t,rotation:n=0})=>{const r=n*180/Math.PI,s=1+(t-1)*.1,o=t>=4?"drop-shadow-[0_0_8px_rgba(255,255,255,0.6)]":"";return e===te.ARROW?c.jsxs("div",{className:`w-full h-full relative flex items-center justify-center ${o}`,children:[c.jsx("div",{className:"absolute w-[85%] h-[85%] bg-slate-700/80 rounded-sm border-2 border-slate-900 shadow-xl overflow-hidden shadow-black/40",children:c.jsx("div",{className:"absolute inset-0 bg-stone-900/10",style:{backgroundImage:"linear-gradient(45deg, #000 12%, transparent 12%, transparent 88%, #000 88%, #000), linear-gradient(135deg, #000 12%, transparent 12%, transparent 88%, #000 88%, #000)",backgroundSize:"4px 4px"}})}),c.jsxs("div",{className:"absolute w-[75%] h-[75%] bg-slate-900 rounded-sm border border-slate-500 shadow-lg transform",children:[c.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-yellow-600 rounded-bl-full border border-yellow-800 shadow-sm shadow-yellow-500/20"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-600 rounded-br-full border border-yellow-800 shadow-sm shadow-yellow-500/20"}),c.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-yellow-600 rounded-tl-full border border-yellow-800 shadow-sm shadow-yellow-500/20"}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-yellow-600 rounded-tr-full border border-yellow-800 shadow-sm shadow-yellow-500/20"})]}),t>1&&c.jsxs("div",{className:"absolute w-[55%] h-[55%] bg-slate-950 rounded-sm border border-slate-400 z-10 shadow-xl transform animate-pulse-slow",children:[c.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-cyan-700 rounded-bl-full border border-cyan-400 shadow-sm"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-cyan-700 rounded-br-full border border-cyan-400 shadow-sm"}),c.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-cyan-700 rounded-tl-full border border-cyan-400 shadow-sm"}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-cyan-700 rounded-tr-full border border-cyan-400 shadow-sm"})]}),t>2&&c.jsx("div",{className:"absolute w-[30%] h-[30%] bg-slate-900 rounded-sm border-2 border-yellow-500 z-20 flex items-center justify-center",children:c.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full shadow-[0_0_8px_gold] animate-pulse"})}),c.jsx("div",{className:"absolute bottom-1 right-1 flex flex-col gap-0.5 pointer-events-none z-30",children:Array(t).fill(0).map((l,a)=>c.jsx("div",{className:"w-1 h-1 bg-yellow-400 rounded-full shadow-sm border border-black/40"},a))})]}):e===te.CANNON?c.jsxs("div",{className:`w-full h-full relative flex items-center justify-center ${o}`,style:{transform:`scale(${s})`},children:[c.jsx("div",{className:"absolute w-[85%] h-[85%] bg-slate-900 rounded-full border-4 border-slate-700 shadow-xl"}),c.jsx("div",{className:"relative w-full h-full transition-transform duration-100 ease-linear flex items-center justify-center",style:{transform:`rotate(${r}deg)`},children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-[60%] h-[70%] bg-stone-800 rounded-sm border border-stone-600 relative flex items-center",children:c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-[40%] h-[60%] bg-stone-900 border-2 border-stone-500 rounded-r-md translate-x-[60%]"})})})}),c.jsx("div",{className:"absolute bottom-[10%] w-full flex justify-center gap-0.5 pointer-events-none",children:Array(t).fill(0).map((l,a)=>c.jsx("div",{className:"w-1.5 h-1.5 bg-stone-400 rounded-full shadow-sm"},a))})]}):e===te.FROST?c.jsxs("div",{className:`w-full h-full relative flex items-center justify-center ${o}`,style:{transform:`scale(${s})`},children:[c.jsx("div",{className:"absolute w-[60%] h-[60%] bg-cyan-900/50 rotate-45 border border-cyan-500/30 animate-pulse-slow"}),c.jsx("div",{className:"absolute w-[75%] h-[75%] border-2 border-cyan-400/50 rounded-full animate-spin-slow-reverse"}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center z-10",children:c.jsx("div",{className:"w-[15%] h-[60%] bg-cyan-300 relative shadow-[0_0_15px_rgba(34,211,238,0.8)] rounded-full"})}),c.jsx("div",{className:"absolute bottom-[10%] w-full flex justify-center gap-0.5 pointer-events-none",children:Array(t).fill(0).map((l,a)=>c.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-300 rounded-full shadow-sm"},a))})]}):null},Qg=({type:e,frozen:t,hasShield:n})=>{const r=()=>{const s={fontSize:"calc(var(--tile-size) * 0.6)"};switch(e){case P.GRUNT:return c.jsx("div",{className:"w-full h-full flex items-center justify-center relative",children:c.jsx("div",{className:"drop-shadow-md animate-bounce-small",style:s,children:""})});case P.RUNNER:return c.jsx("div",{className:"w-full h-full bg-yellow-500 rotate-45 relative border-2 border-yellow-300 shadow-[0_0_10px_rgba(234,179,8,0.6)] animate-pulse",children:c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -rotate-45",style:s,children:""})});case P.TANK:return c.jsx("div",{className:"w-full h-full bg-red-800 rounded-md relative border-4 border-red-950 shadow-[0_0_10px_rgba(153,27,27,0.6)]",children:c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:s,children:""})});case P.SHIELDED:return c.jsx("div",{className:"w-full h-full bg-blue-700 rounded-full relative border-2 border-blue-400 shadow-[0_0_10px_rgba(29,78,216,0.6)]",children:c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:s,children:""})});default:return null}};return c.jsxs("div",{className:`relative w-full h-full flex items-center justify-center transition-all ${t?"brightness-150 saturate-50":""}`,children:[r(),t&&c.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-full animate-pulse blur-sm"}),n&&c.jsx("div",{className:"absolute -inset-1 border-2 border-blue-400/50 rounded-full animate-ping-slow"})]})},Xg=({state:e,grid:t,onTileClick:n,onTowerClick:r,engine:s,onTowerMouseDown:i,onCanvasMouseMove:o,onCanvasMouseUp:l,dragTowerId:a,dragPos:u})=>{const d=R.useRef(null),m=R.useRef(null);return R.useEffect(()=>{const h=d.current;if(!h)return;h.width=_e*A,h.height=Ve*A;const v=h.getContext("2d");if(!v)return;v.globalCompositeOperation="lighter";let y;const w=()=>{v.clearRect(0,0,h.width,h.height),s.vfx.draw(v),y=requestAnimationFrame(w)};return w(),()=>cancelAnimationFrame(y)},[s]),c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden bg-[#020617] bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-[#020617] to-black",children:[c.jsx(Yg,{}),c.jsxs("div",{className:"relative transition-transform duration-200 ease-out origin-center rounded-sm shadow-[0_0_100px_rgba(0,0,0,0.8)]",style:{width:`calc(${_e} * var(--tile-size))`,height:`calc(${Ve} * var(--tile-size))`},children:[c.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-600/20 rounded-lg blur-lg pointer-events-none"}),c.jsx("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:`repeat(${_e}, var(--tile-size))`},children:t.map((h,v)=>h.map((y,w)=>c.jsx("div",{onClick:()=>n(w,v),className:"w-full h-full relative cursor-pointer z-0",children:c.jsx(Kg,{type:y,x:w,y:v})},`${v}-${w}`)))}),e.towers.map(h=>{const v=e.selectedTowerId===h.id;return c.jsxs("div",{onClick:y=>{y.stopPropagation(),r(h.id)},className:"absolute transition-all duration-200 cursor-pointer group hover:z-50",style:{left:`calc(${h.gridX} * var(--tile-size))`,top:`calc(${h.gridY} * var(--tile-size))`,width:"var(--tile-size)",height:"var(--tile-size)",zIndex:40+h.gridY},children:[v&&c.jsx("div",{className:"absolute rounded-full border border-cyan-400/30 bg-cyan-400/5 pointer-events-none animate-pulse",style:{width:`calc((${h.range} / ${A}) * 2 * var(--tile-size))`,height:`calc((${h.range} / ${A}) * 2 * var(--tile-size))`,left:`calc(50% - ((${h.range} / ${A}) * var(--tile-size)))`,top:`calc(50% - ((${h.range} / ${A}) * var(--tile-size)))`,zIndex:-1}}),c.jsx("div",{className:`
                w-full h-full p-0.5 relative transform transition-transform origin-bottom
                ${v?"drop-shadow-[0_0_15px_rgba(34,211,238,0.8)]":"hover:scale-105"}
              `,style:{zIndex:40+h.gridY,transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:c.jsx(Hf,{type:h.type,level:h.level,rotation:h.rotation})})]},h.id)}),e.enemies.map(h=>{const y=`calc(${e.enemies.length>40?.65:.85} * var(--tile-size))`;return c.jsx("div",{className:"absolute pointer-events-none transition-transform will-change-transform flex items-center justify-center",style:{left:`calc((${h.x} / ${A}) * var(--tile-size))`,top:`calc((${h.y} / ${A}) * var(--tile-size))`,width:y,height:y,transform:"translate(-50%, -50%)",zIndex:100},children:c.jsx(Qg,{type:h.type,frozen:h.frozen,hasShield:h.shield>0})},h.id)}),c.jsx("canvas",{ref:d,className:"absolute inset-0 pointer-events-none z-25 mix-blend-screen",style:{zIndex:25,width:"100%",height:"100%"}}),e.projectiles.map(h=>{const v=e.towers.find(w=>w.id===h.towerId),y=(v==null?void 0:v.type)==="CANNON";return c.jsx("div",{className:`absolute rounded-full z-30 ${h.color}`,style:{left:`calc((${h.x} / ${A}) * var(--tile-size))`,top:`calc((${h.y} / ${A}) * var(--tile-size))`,transform:"translate(-50%, -50%)",width:y?"calc(0.12 * var(--tile-size))":"calc(0.06 * var(--tile-size))",height:y?"calc(0.12 * var(--tile-size))":"calc(0.06 * var(--tile-size))",boxShadow:"0 0 10px 2px currentColor"}},h.id)}),e.effects.map(h=>c.jsx("div",{className:"absolute font-black text-xl pointer-events-none z-50 animate-float-up title-font",style:{left:`calc((${h.x} / ${A}) * var(--tile-size))`,top:`calc((${h.y} / ${A}) * var(--tile-size))`,color:h.color,textShadow:"0 0 5px currentColor",opacity:h.life/500,fontSize:"calc(0.3 * var(--tile-size))"},children:h.text},h.id)),c.jsxs("div",{ref:m,className:"absolute inset-0 z-20 grid",style:{gridTemplateColumns:`repeat(${_e}, var(--tile-size))`},onMouseMove:h=>{o&&o(h.clientX,h.clientY)},onMouseLeave:()=>{},children:[Array.from({length:Ve}).map((h,v)=>Array.from({length:_e}).map((y,w)=>c.jsx("div",{className:"w-full h-full cursor-crosshair hover:bg-white/5 transition-colors",onClick:S=>{S.stopPropagation(),n(w,v)},onMouseUp:S=>{a&&l&&(S.stopPropagation(),l(w,v))}},`${v}-${w}`))),e.towers.map(h=>c.jsx("div",{className:"absolute cursor-pointer rounded-full z-30 hover:bg-white/10",style:{left:`calc(${h.gridX} * var(--tile-size))`,top:`calc(${h.gridY} * var(--tile-size))`,width:"var(--tile-size)",height:"var(--tile-size)"},onMouseDown:v=>{v.stopPropagation(),i&&i(h.id,v.clientX,v.clientY)},onClick:v=>{v.stopPropagation(),a||r(h.id)}},`tower-hitbox-${h.id}`))]}),a&&c.jsxs("div",{className:"fixed pointer-events-none z-50 opacity-50 flex flex-col items-center",style:{left:u==null?void 0:u.x,top:u==null?void 0:u.y,transform:"translate(-50%, -50%)"},children:[c.jsx("div",{className:"bg-white rounded-full border-2 border-dashed border-black",style:{width:"var(--tile-size)",height:"var(--tile-size)"}}),c.jsx("span",{className:"bg-black/80 text-white text-xs px-2 py-1 rounded mt-2 font-mono",children:"Move: -25% Gold"})]})]})]})},Jg=({state:e,onStartWave:t,onPause:n,onSelectTowerToBuild:r,selectedBuildType:s,onUpgrade:i,onSell:o,onRetry:l,onNextLevel:a,onSetSpeed:u,onToggleTech:d,onToggleAutoPilot:m,onMove:h})=>{const v=e.selectedTowerId?e.towers.find(p=>p.id===e.selectedTowerId):null,y=e.isWaveActive||e.status!==G.PLAYING,w="bg-slate-900/60 backdrop-blur-md border border-white/10 shadow-[0_4px_30px_rgba(0,0,0,0.5)]";return c.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between z-[200] overflow-hidden text-white game-font",children:[c.jsxs("div",{className:"pointer-events-none flex items-start justify-between w-full mx-auto transition-all duration-300",style:{paddingTop:"calc(var(--tile-size) * 0.2)",paddingBottom:"calc(var(--tile-size) * 0.25)",paddingLeft:"calc(var(--tile-size) * 0.25)",paddingRight:"calc(var(--tile-size) * 0.25)",gap:"calc(var(--tile-size) * 0.2)"},children:[c.jsxs("div",{className:"flex flex-col pointer-events-auto",style:{gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsxs("div",{className:`flex ${w} items-center border-t border-l border-white/20`,style:{padding:"calc(var(--tile-size) * 0.15) calc(var(--tile-size) * 0.3)",borderRadius:"calc(var(--tile-size) * 0.2)",gap:"calc(var(--tile-size) * 0.3)"},children:[c.jsxs("div",{className:"flex items-center",style:{gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsx("div",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.8)]",style:{fontSize:"calc(var(--tile-size) * 0.4)"},children:""}),c.jsx("span",{className:"font-bold tracking-widest",style:{fontSize:"calc(var(--tile-size) * 0.35)"},children:e.lives})]}),c.jsx("div",{className:"bg-white/10",style:{width:1,height:"calc(var(--tile-size) * 0.4)"}}),c.jsxs("div",{className:"flex items-center",style:{gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsx("div",{className:"text-yellow-400 drop-shadow-[0_0_5px_rgba(250,204,21,0.8)]",style:{fontSize:"calc(var(--tile-size) * 0.4)"},children:""}),c.jsx("span",{className:"font-bold text-yellow-100 tracking-widest",style:{fontSize:"calc(var(--tile-size) * 0.35)"},children:e.gold})]})]}),c.jsxs("div",{className:"flex",style:{gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsxs("div",{className:`${w} flex items-center`,style:{borderRadius:"calc(var(--tile-size) * 0.15)",padding:"calc(var(--tile-size) * 0.05) calc(var(--tile-size) * 0.2)",gap:"calc(var(--tile-size) * 0.15)"},children:[c.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-wider",style:{fontSize:"calc(var(--tile-size) * 0.15)"},children:"Wave"}),c.jsx("div",{className:"font-bold text-cyan-400 drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",style:{fontSize:"calc(var(--tile-size) * 0.3)"},children:e.wave})]}),c.jsxs("button",{onClick:d,className:"bg-cyan-900/80 hover:bg-cyan-700/80 border border-cyan-500/50 backdrop-blur-sm flex items-center transition-all active:scale-95 group",style:{borderRadius:"calc(var(--tile-size) * 0.15)",padding:"calc(var(--tile-size) * 0.05) calc(var(--tile-size) * 0.2)",gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsx("span",{className:"group-hover:animate-pulse",style:{fontSize:"calc(var(--tile-size) * 0.25)"},children:""}),c.jsx("span",{className:"font-bold text-cyan-100 uppercase tracking-wider hidden sm:inline",style:{fontSize:"calc(var(--tile-size) * 0.15)"},children:"Tech"})]})]})]}),c.jsxs("div",{className:"flex flex-col items-end",style:{gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsx("div",{className:`${w} border-t-0 border-x-secondary`,style:{padding:"calc(var(--tile-size) * 0.1) calc(var(--tile-size) * 0.4)",borderBottomLeftRadius:"calc(var(--tile-size) * 0.2)",borderBottomRightRadius:"calc(var(--tile-size) * 0.2)"},children:c.jsxs("h1",{className:"title-font font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 uppercase tracking-widest drop-shadow-sm",style:{fontSize:"calc(var(--tile-size) * 0.25)"},children:["Level ",e.levelIndex+1]})}),c.jsxs("div",{className:"flex",style:{gap:"calc(var(--tile-size) * 0.1)"},children:[c.jsxs("button",{onClick:()=>{const p=[1,2,4,6],f=p.indexOf(e.gameSpeed),g=p[(f+1)%p.length];u(g)},className:`flex flex-col items-center justify-center transition-all hover:bg-slate-700 border rounded pointer-events-auto relative z-50
                 ${e.gameSpeed>1?"text-cyan-400 border-cyan-500 bg-cyan-950/30":"text-slate-400 bg-slate-800/80 border-white/10"}`,style:{width:"calc(var(--tile-size) * 1.3)",height:"calc(var(--tile-size) * 0.6)"},children:[c.jsx("span",{style:{fontSize:"calc(var(--tile-size) * 0.2)"},children:"SPEED"}),c.jsxs("span",{className:"font-bold",style:{fontSize:"calc(var(--tile-size) * 0.25)"},children:[e.gameSpeed,"x"]})]}),c.jsx("button",{onClick:n,className:"rounded bg-slate-800/80 border border-white/10 text-white hover:bg-slate-700 flex items-center justify-center transition-all pointer-events-auto relative z-50",style:{width:"calc(var(--tile-size) * 0.6)",height:"calc(var(--tile-size) * 0.6)",fontSize:"calc(var(--tile-size) * 0.25)"},children:e.status===G.PAUSED?"":"||"})]})]})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center pointer-events-none px-4",children:(e.status===G.VICTORY||e.status===G.DEFEAT)&&c.jsxs("div",{className:"pointer-events-auto bg-slate-900/90 backdrop-blur-xl p-6 sm:p-8 md:p-10 rounded-xl sm:rounded-2xl border border-white/10 shadow-[0_0_100px_rgba(0,0,0,0.8)] text-center max-w-sm sm:max-w-md w-full animate-bounce-in ring-1 ring-white/20",children:[c.jsx("h2",{className:`title-font text-4xl sm:text-5xl md:text-6xl font-black mb-3 sm:mb-4 tracking-tighter ${e.status===G.VICTORY?"text-yellow-400 drop-shadow-[0_0_20px_rgba(250,204,21,0.5)]":"text-red-500 drop-shadow-[0_0_20px_rgba(239,68,68,0.5)]"}`,children:e.status===G.VICTORY?"VICTORY":"FAILURE"}),c.jsx("p",{className:"text-slate-300 mb-6 sm:mb-8 text-base sm:text-lg uppercase tracking-widest font-light",children:e.status===G.VICTORY?"Sector Secured":"Systems Breached"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[c.jsx("button",{onClick:l,className:"px-6 sm:px-8 py-2.5 sm:py-3 bg-slate-700 hover:bg-slate-600 rounded-none border border-white/20 font-bold text-base sm:text-lg uppercase tracking-wider transition-all hover:border-white/50",children:"Reboot"}),e.status===G.VICTORY&&c.jsx("button",{onClick:a,className:"px-6 sm:px-8 py-2.5 sm:py-3 bg-cyan-600 hover:bg-cyan-500 rounded-none font-bold text-base sm:text-lg uppercase tracking-wider text-white shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all hover:shadow-[0_0_30px_rgba(8,145,178,0.6)]",children:"Next Sector"}),e.status===G.DEFEAT&&c.jsxs("button",{onClick:m,className:"px-5 sm:px-6 py-2.5 sm:py-3 bg-purple-900/80 hover:bg-purple-800/80 border border-purple-500/50 font-bold text-base sm:text-lg uppercase tracking-wider text-purple-200 shadow-[0_0_20px_rgba(168,85,247,0.3)] transition-all flex items-center justify-center gap-2",children:[c.jsx("span",{children:""})," ",c.jsx("span",{className:"hidden sm:inline",children:"Auto-Replay"}),c.jsx("span",{className:"sm:hidden",children:"Auto"})]})]})]})}),c.jsx("div",{className:"pointer-events-none w-full flex items-end justify-center",style:{paddingBottom:"calc(var(--tile-size) * 0.25)",paddingLeft:"calc(var(--tile-size) * 0.25)",paddingRight:"calc(var(--tile-size) * 0.25)"},children:c.jsxs("div",{className:"flex items-end relative mx-auto transition-all duration-300 pointer-events-auto",style:{gap:"calc(var(--tile-size) * 0.2)"},children:[v?c.jsxs("div",{className:`${w} rounded-t-xl animate-slide-up flex flex-col md:flex-row items-center border-b-0`,style:{gap:"calc(var(--tile-size) * 0.3)",padding:"calc(var(--tile-size) * 0.3)",minWidth:"calc(var(--tile-size) * 6)"},children:[c.jsxs("div",{className:"flex flex-col justify-between items-start",children:[c.jsxs("div",{style:{marginBottom:"calc(var(--tile-size) * 0.1)"},children:[c.jsx("h3",{className:"title-font font-black text-white uppercase tracking-wider",style:{fontSize:"calc(var(--tile-size) * 0.25)"},children:ce[v.type].name}),c.jsxs("div",{className:"flex",style:{gap:"calc(var(--tile-size) * 0.15)"},children:[c.jsxs("span",{className:"bg-cyan-900/50 border border-cyan-500/30 text-cyan-300 font-bold rounded",style:{fontSize:"calc(var(--tile-size) * 0.15)",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 calc(var(--tile-size) * 0.1)"},children:["LVL ",v.level]}),c.jsxs("span",{className:"text-slate-400 font-mono",style:{fontSize:"calc(var(--tile-size) * 0.15)"},children:["RNG: ",Math.round(v.range)]})]})]}),c.jsxs("div",{className:"flex w-full",style:{gap:"calc(var(--tile-size) * 0.2)",marginTop:"calc(var(--tile-size) * 0.2)"},children:[c.jsxs("button",{onClick:o,className:"flex-1 bg-red-900/30 hover:bg-red-900/50 border border-red-500/30 text-red-200 font-bold rounded uppercase transition-all hover:shadow-[0_0_10px_rgba(239,68,68,0.2)]",style:{fontSize:"calc(var(--tile-size) * 0.15)",padding:"calc(var(--tile-size) * 0.1) calc(var(--tile-size) * 0.2)"},children:["Sell (+",e.wave===0&&!e.isWaveActive?ce[v.type].cost:Math.floor(ce[v.type].cost*.5),")"]}),!e.isWaveActive&&h&&c.jsx("button",{onClick:h,className:"flex-1 bg-amber-600/30 hover:bg-amber-600/50 border border-amber-400/30 text-amber-200 font-bold rounded uppercase transition-all",style:{fontSize:"calc(var(--tile-size) * 0.15)",padding:"calc(var(--tile-size) * 0.1) calc(var(--tile-size) * 0.2)"},children:"Move"})]})]}),c.jsx("div",{className:"flex overflow-x-auto pb-2",style:{gap:"calc(var(--tile-size) * 0.2)"},children:v.level<4?ce[v.type].upgrades.map((p,f)=>{const g=e.gold>=p.cost;return c.jsxs("button",{onClick:()=>g&&i(f),className:`
                          p-0.5 rounded-lg transition-all group relative overflow-hidden
                          ${g?"hover:-translate-y-1":"opacity-50 grayscale cursor-not-allowed"}
                        `,style:{width:"calc(var(--tile-size) * 2.5)"},children:[c.jsx("div",{className:`absolute inset-0 opacity-20 group-hover:opacity-40 transition-opacity ${g?"bg-gradient-to-tr from-cyan-500 to-blue-500":"bg-slate-700"}`}),c.jsxs("div",{className:"relative bg-slate-900/90 h-full rounded-[6px] flex flex-col justify-between border border-white/5",style:{padding:"calc(var(--tile-size) * 0.15)"},children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-cyan-400 font-bold uppercase tracking-wider mb-1",style:{fontSize:"calc(var(--tile-size) * 0.16)"},children:p.type}),c.jsx("div",{className:"text-slate-300 leading-tight mb-2",style:{fontSize:"calc(var(--tile-size) * 0.13)",minHeight:"calc(var(--tile-size) * 0.5)"},children:p.description})]}),c.jsxs("div",{className:`text-center font-mono font-bold rounded ${g?"text-yellow-300 bg-yellow-900/20 border border-yellow-500/20":"text-red-400"}`,style:{fontSize:"calc(var(--tile-size) * 0.16)",padding:"calc(var(--tile-size) * 0.05)"},children:[p.cost," G"]})]})]},f)}):c.jsx("div",{className:"flex items-center justify-center text-yellow-500 font-bold uppercase tracking-widest border border-yellow-500/30 rounded bg-yellow-900/10",style:{width:"calc(var(--tile-size) * 3)",fontSize:"calc(var(--tile-size) * 0.2)",padding:"calc(var(--tile-size) * 0.2)"},children:"Max Level"})}),c.jsx("button",{onClick:()=>r(v.type),className:"absolute top-2 right-2 text-slate-500 p-2 md:hidden hover:bg-white/10 rounded",children:""})]}):c.jsx("div",{className:"flex gap-[calc(var(--tile-size)*0.1)] items-end",style:{height:`calc(var(--tile-size) * ${xn.buildPanel.height.desktop})`},children:Object.values(ce).map(p=>{const f=e.gold>=p.cost,g=s===p.id;return c.jsxs("button",{onClick:()=>f&&r(p.id),className:`
                      relative group rounded-lg transition-all transform flex flex-col items-center justify-end overflow-visible border
                      ${g?"bg-slate-800 border-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.3)] -translate-y-[calc(var(--tile-size)*0.1)] z-10":"bg-slate-900/80 border-white/10 hover:bg-slate-800 hover:-translate-y-[calc(var(--tile-size)*0.05)] hover:border-white/30"}
                      ${f?"":"opacity-40 grayscale"}
                    `,style:{height:"100%",width:`calc(var(--tile-size) * ${xn.buildPanel.cardWidth.desktop})`,paddingBottom:"calc(var(--tile-size) * 0.15)"},children:[c.jsx("div",{className:`absolute transition-transform duration-300 ${g?"scale-110 drop-shadow-[0_0_15px_rgba(255,255,255,0.4)]":"group-hover:scale-105"}`,style:{top:"calc(var(--tile-size) * -0.2)"},children:c.jsx("div",{className:"drop-shadow-xl",style:{width:`calc(var(--tile-size) * ${xn.buildPanel.iconSize.desktop})`,height:`calc(var(--tile-size) * ${xn.buildPanel.iconSize.desktop})`},children:c.jsx(Hf,{type:p.id,level:1})})}),c.jsx("div",{className:"text-white font-bold uppercase tracking-wider",style:{fontSize:"calc(var(--tile-size) * 0.18)",marginTop:"calc(var(--tile-size) * 0.4)"},children:p.name}),c.jsx("div",{className:`font-mono rounded flex items-center justify-center border
                        ${f?"bg-yellow-900/30 text-yellow-200 border-yellow-500/30":"bg-red-900/30 text-red-300 border-red-500/30"}
                      `,style:{fontSize:"calc(var(--tile-size) * 0.16)",padding:"calc(var(--tile-size) * 0.04) calc(var(--tile-size) * 0.1)",marginTop:"calc(var(--tile-size) * 0.05)",gap:"calc(var(--tile-size) * 0.05)"},children:p.cost})]},p.id)})}),!v&&c.jsxs("button",{onClick:t,disabled:y,className:`
                rounded-full border-2 sm:border-4 shadow-2xl flex items-center justify-center transition-all transform hover:scale-105 active:scale-95 mb-1 sm:mb-2 shrink-0
                ${y?"bg-slate-800 border-slate-700 text-slate-600 grayscale cursor-not-allowed":"bg-gradient-to-br from-orange-500 to-red-600 border-orange-400 shadow-[0_0_30px_rgba(249,115,22,0.6)] animate-pulse-slow"}
              `,style:{width:`calc(var(--tile-size) * ${xn.actionButtons.size.desktop})`,height:`calc(var(--tile-size) * ${xn.actionButtons.size.desktop})`},children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl drop-shadow-md",children:""})}),!e.isWaveActive&&e.autoWaveTimer>0&&c.jsxs("div",{className:"absolute -top-6 sm:-top-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur text-white px-2 py-1 rounded text-xs whitespace-nowrap border border-white/20",children:["Next: ",Math.ceil(e.autoWaveTimer/1e3),"s"]})]})]})})]})},Zg=({engine:e,onClose:t})=>{const[n,r]=R.useState(e.persistence.getProfile()),s=i=>{const o=ll.find(l=>l.id===i);o&&(e.persistence.spendGems(o.cost)?(e.persistence.unlockTech(i),e.sound.playUI("upgrade"),r({...e.persistence.getProfile()})):e.sound.playUI("error"))};return c.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-slate-800 border-4 border-slate-600 rounded-3xl w-full max-w-4xl h-[80vh] flex flex-col shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"bg-slate-900 p-6 flex justify-between items-center border-b border-slate-700",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-wider",children:"Tech Tree"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Permanent upgrades for your kingdom"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 px-4 py-2 rounded-full border border-slate-600",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"text-2xl font-black text-cyan-400",children:n.gems})]}),c.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-red-600 text-white font-bold hover:bg-red-500",children:""})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ll.map(i=>{const o=n.unlockedTechs[i.id]||0,l=o>=i.maxLevels,a=n.gems>=i.cost;return c.jsxs("div",{className:`
                    relative p-6 rounded-2xl border-b-8 transition-all
                    ${l?"bg-emerald-900 border-emerald-950 opacity-80":"bg-slate-700 border-slate-900"}
                  `,children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:i.name}),c.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold ${l?"bg-emerald-500 text-emerald-900":"bg-slate-900 text-slate-400"}`,children:["LVL ",o," / ",i.maxLevels]})]}),c.jsx("p",{className:"text-slate-300 text-sm mb-6 h-10",children:i.description}),l?c.jsx("div",{className:"w-full py-3 text-center font-black text-emerald-400 uppercase tracking-widest bg-black/20 rounded-xl",children:"MAXED"}):c.jsxs("button",{onClick:()=>s(i.id),disabled:!a,className:`
                        w-full py-3 rounded-xl font-black uppercase tracking-widest flex justify-center items-center gap-2 transition-all
                        ${a?"bg-cyan-600 hover:bg-cyan-500 text-white shadow-lg active:translate-y-1":"bg-slate-800 text-slate-500 cursor-not-allowed"}
                      `,children:[c.jsx("span",{children:"Unlock"}),c.jsxs("span",{className:"bg-black/20 px-2 py-0.5 rounded text-sm",children:[i.cost," "]})]})]},i.id)})})})]})})},ey=({onStart:e})=>c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-900 z-50 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#1e293b_0%,#020617_100%)]"}),c.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150"}),c.jsx("div",{className:"absolute inset-0 perspective-1000 overflow-hidden pointer-events-none opacity-30",children:c.jsx("div",{className:"absolute bottom-0 w-[200%] h-[50%] -left-[50%] bg-[linear-gradient(transparent_0%,rgba(34,211,238,0.1)_1px,transparent_1px),linear-gradient(90deg,transparent_0%,rgba(34,211,238,0.1)_1px,transparent_1px)] bg-[length:40px_40px] rotate-x-60 animate-grid-flow transform-3d"})}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-fade-in-up px-4 w-full max-w-4xl",children:[c.jsxs("div",{className:"mb-8 sm:mb-12 text-center relative",children:[c.jsx("div",{className:"absolute -inset-10 bg-cyan-500/20 blur-[100px] rounded-full pointer-events-none"}),c.jsx("h1",{className:"title-font text-5xl sm:text-7xl md:text-8xl lg:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-cyan-400 drop-shadow-[0_0_20px_rgba(34,211,238,0.5)] tracking-tighter",children:"CLASH"}),c.jsx("h2",{className:"title-font text-2xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-blue-400 to-purple-500 drop-shadow-[0_0_20px_rgba(59,130,246,0.5)] tracking-[0.2em] -mt-1 sm:-mt-2 md:-mt-4",children:"DEFENSE"})]}),c.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 w-full max-w-[280px] sm:max-w-xs px-4",children:[c.jsxs("button",{onClick:e,className:"group relative px-6 sm:px-8 py-3 sm:py-4 bg-transparent overflow-hidden rounded-none border border-cyan-500/50 transition-all hover:border-cyan-400 hover:shadow-[0_0_30px_rgba(34,211,238,0.4)] active:scale-95",children:[c.jsx("div",{className:"absolute inset-0 bg-cyan-500/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),c.jsxs("div",{className:"relative flex items-center justify-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"text-cyan-400 group-hover:text-white transition-colors font-bold text-lg sm:text-xl uppercase tracking-widest title-font",children:"Initialize"}),c.jsx("span",{className:"text-cyan-400 group-hover:text-white transition-colors text-lg sm:text-xl",children:""})]})]}),c.jsx("div",{className:"text-center mt-6 sm:mt-8 text-slate-500 text-xs font-mono uppercase tracking-widest",children:"v1.0.0 // System Ready"})]})]})]}),D=new qg(0),ty=({onGameStateChange:e})=>{const[t,n]=R.useState(D.state),[r,s]=R.useState(A),[i,o]=R.useState(null),[l,a]=R.useState(null),[u,d]=R.useState(null),[m,h]=R.useState({x:0,y:0}),v=R.useRef(void 0),y=R.useRef(void 0);R.useEffect(()=>{const U=()=>{const N=window.innerWidth,O=window.innerHeight,I=_e,$=Ve,q=N/I,dt=O/$;let ke=Math.floor(Math.min(q,dt));console.log("RESIZE CALC:",{availableWidth:N,availableHeight:O,newTileSize:ke}),s(ke)};return window.addEventListener("resize",U),U(),()=>window.removeEventListener("resize",U)},[]);const w=R.useCallback(U=>{if(y.current!==void 0){const N=U-y.current;D.update(N),n({...D.state})}y.current=U,v.current=requestAnimationFrame(w)},[]);R.useEffect(()=>(v.current=requestAnimationFrame(w),()=>{v.current&&cancelAnimationFrame(v.current)}),[w]),R.useEffect(()=>{e&&e(t.status!==G.MENU)},[t.status,e]);const S=R.useCallback((U,N,O)=>{!i&&!l&&!D.state.isWaveActive&&(d(U),h({x:N,y:O}))},[i,l]),p=R.useCallback((U,N)=>{u&&h({x:U,y:N})},[u]),f=R.useCallback((U,N)=>{u&&(D.moveTower(u,U,N),d(null),D.state.selectedTowerId=null)},[u]),g=R.useCallback(U=>{i===U?o(null):(o(U),a(null),D.state.selectedTowerId=null)},[i]),E=R.useCallback(()=>{D.state.selectedTowerId&&(a(D.state.selectedTowerId),o(null))},[]),T=R.useCallback((U,N)=>{u||(i?D.placeTower(i,U,N)&&o(null):l?D.moveTower(l,U,N)&&(a(null),D.state.selectedTowerId=null):D.state.selectedTowerId=null)},[i,l,u]),C=R.useCallback(U=>{i||l||u||(D.state.selectedTowerId=U)},[i,l,u]),k=R.useCallback(U=>{D.state.selectedTowerId&&D.upgradeTower(D.state.selectedTowerId,U)},[]),L=R.useCallback(()=>{D.state.selectedTowerId&&D.sellTower(D.state.selectedTowerId)},[]),W=R.useCallback(()=>{D.retryLevel()},[]),z=R.useCallback(()=>{D.nextLevel()},[]),me=R.useCallback(()=>{D.toggleTechTree()},[]),Ge=R.useCallback(()=>{D.startGame()},[]),Fe=R.useCallback(()=>{D.startNextWave()},[]),qe=R.useCallback(()=>{D.pauseGame()},[]),yn=R.useCallback(U=>{D.setGameSpeed(U)},[]),we=R.useCallback(()=>{t.status===G.DEFEAT?(D.resetGame(t.levelIndex),D.autoPilotEnabled=!0,D.startNextWave()):D.autoPilotEnabled=!D.autoPilotEnabled},[t.status,t.levelIndex]);return R.useEffect(()=>{const U=N=>{t.status===G.PLAYING&&(N.code==="Space"&&D.startNextWave(),N.code==="Escape"&&(t.showTechTree?D.toggleTechTree():(o(null),D.state.selectedTowerId=null)))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[t.showTechTree,t.status]),c.jsxs("div",{className:"relative w-screen h-screen overflow-hidden bg-[#020617] select-none touch-none font-sans text-white env-setup",style:{"--tile-size":`${r}px`},children:[t.status===G.MENU&&c.jsx(ey,{onStart:Ge}),t.status!==G.MENU&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"relative shadow-2xl transition-all duration-100 ease-out origin-center",style:{width:`calc(${_e} * var(--tile-size))`,height:`calc(${Ve} * var(--tile-size))`},children:c.jsx(Xg,{state:t,grid:t.currentGrid,onTileClick:T,onTowerClick:C,onTowerMouseDown:S,onCanvasMouseMove:p,onCanvasMouseUp:f,dragTowerId:u,dragPos:m,engine:D})})}),c.jsx(Jg,{state:t,onStartWave:Fe,onPause:qe,onSelectTowerToBuild:g,selectedBuildType:i,onUpgrade:k,onSell:L,onMove:E,onRetry:W,onNextLevel:z,onSetSpeed:yn,onToggleTech:me,onToggleAutoPilot:we}),t.showTechTree&&c.jsx("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:c.jsx(Zg,{engine:D,onClose:me})}),c.jsx("div",{className:"fixed inset-0 pointer-events-none z-40 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)]"})]})]})},ny=async()=>(await ct.get("/saves")).data.saves,ry=async e=>(await ct.get(`/saves/${e}`)).data.save,sy=async(e,t)=>(await ct.post(`/saves/${e}`,t)).data.save,iy=async e=>{await ct.delete(`/saves/${e}`)},oy=async(e,t,n)=>{var r;try{return{save:(await ct.post(`/saves/${e}/sync`,{...t,localUpdatedAt:n})).data.save}}catch(s){if(((r=s.response)==null?void 0:r.status)===409)return{save:s.response.data,conflict:!0};throw s}},ly=()=>{const[e,t]=R.useState([]),[n,r]=R.useState(null),[s,i]=R.useState(!1),[o,l]=R.useState(null),a=R.useCallback(async()=>{var v,y;i(!0),l(null);try{const w=await ny();t(w)}catch(w){l(((y=(v=w.response)==null?void 0:v.data)==null?void 0:y.message)||"Failed to load saves")}finally{i(!1)}},[]),u=R.useCallback(async v=>{var y,w,S;i(!0),l(null);try{const p=await ry(v);return r(p),p}catch(p){return((y=p.response)==null?void 0:y.status)===404||l(((S=(w=p.response)==null?void 0:w.data)==null?void 0:S.message)||"Failed to load save"),null}finally{i(!1)}},[]),d=R.useCallback(async(v,y)=>{var w,S;i(!0),l(null);try{const p=await sy(v,y);return await a(),p}catch(p){throw l(((S=(w=p.response)==null?void 0:w.data)==null?void 0:S.message)||"Failed to save game"),p}finally{i(!1)}},[a]),m=R.useCallback(async v=>{var y,w;i(!0),l(null);try{await iy(v),await a()}catch(S){throw l(((w=(y=S.response)==null?void 0:y.data)==null?void 0:w.message)||"Failed to delete save"),S}finally{i(!1)}},[a]),h=R.useCallback(async(v,y,w)=>{var S,p;i(!0),l(null);try{const f=await oy(v,y,w);return await a(),f}catch(f){throw l(((p=(S=f.response)==null?void 0:S.data)==null?void 0:p.message)||"Failed to sync game"),f}finally{i(!1)}},[a]);return{saves:e,currentSave:n,isLoading:s,error:o,loadSaves:a,loadSave:u,saveGameSlot:d,deleteGameSlot:m,syncGame:h}},ay=({onClose:e,isAuthenticated:t})=>{const{saves:n,isLoading:r,loadSaves:s,saveGameSlot:i,loadSave:o}=ly();R.useEffect(()=>{t&&s()},[t]);const l=async u=>{const d=localStorage.getItem(_r.GAME_SAVE)||localStorage.getItem(_r.LEGACY_GAME_SAVE);if(d){const m=JSON.parse(d);await i(u,{slotNumber:u,levelIndex:m.levelIndex||0,gold:m.gold||150,lives:m.lives||20,wave:m.wave||0,towers:m.towers||[],techTreeUnlocks:m.techTreeUnlocks||{}})}},a=async u=>{const d=await o(u);d&&(localStorage.setItem(_r.GAME_SAVE,JSON.stringify(d)),window.location.reload())};return t?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-3 sm:p-4",children:c.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-4 sm:p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:"Cloud Save Slots"}),c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white p-2 -mr-2","aria-label":"Close",children:""})]}),r?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):c.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>{const d=n.find(m=>m.slotNumber===u);return c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-slate-700 rounded-lg border border-slate-600 gap-3",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:["Slot ",u]}),d&&c.jsxs("div",{className:"text-slate-300 text-xs sm:text-sm mt-1",children:["Level ",d.levelIndex+1," | Wave ",d.wave," |  ",d.gold," |  ",d.lives]}),!d&&c.jsx("div",{className:"text-slate-400 text-xs sm:text-sm mt-1",children:"Empty"})]}),c.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[c.jsx("button",{onClick:()=>l(u),className:"flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-xs sm:text-sm rounded transition-colors min-w-[60px]",children:"Save"}),d&&c.jsx("button",{onClick:()=>a(u),className:"flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-500 text-white text-xs sm:text-sm rounded transition-colors min-w-[60px]",children:"Load"})]})]},u)})})]})}):c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-4 sm:p-6 w-full max-w-sm",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-4",children:"Cloud Save"}),c.jsx("p",{className:"text-slate-300 text-sm sm:text-base",children:"Please login to use cloud save."}),c.jsx("button",{onClick:e,className:"mt-4 w-full sm:w-auto px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded transition-colors",children:"Close"})]})})},wt=Object.create(null);wt.open="0";wt.close="1";wt.ping="2";wt.pong="3";wt.message="4";wt.upgrade="5";wt.noop="6";const zs=Object.create(null);Object.keys(wt).forEach(e=>{zs[wt[e]]=e});const fl={type:"error",data:"parser error"},Wf=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gf=typeof ArrayBuffer=="function",qf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ga=({type:e,data:t},n,r)=>Wf&&t instanceof Blob?n?r(t):tc(t,r):Gf&&(t instanceof ArrayBuffer||qf(t))?n?r(t):tc(new Blob([t]),r):r(wt[e]+(t||"")),tc=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function nc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let co;function uy(e,t){if(Wf&&e.data instanceof Blob)return e.data.arrayBuffer().then(nc).then(t);if(Gf&&(e.data instanceof ArrayBuffer||qf(e.data)))return t(nc(e.data));ga(e,!1,n=>{co||(co=new TextEncoder),t(co.encode(n))})}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<rc.length;e++)hr[rc.charCodeAt(e)]=e;const cy=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=hr[e.charCodeAt(r)],o=hr[e.charCodeAt(r+1)],l=hr[e.charCodeAt(r+2)],a=hr[e.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|a&63;return u},dy=typeof ArrayBuffer=="function",ya=(e,t)=>{if(typeof e!="string")return{type:"message",data:Yf(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:fy(e.substring(1),t)}:zs[n]?e.length>1?{type:zs[n],data:e.substring(1)}:{type:zs[n]}:fl},fy=(e,t)=>{if(dy){const n=cy(e);return Yf(n,t)}else return{base64:!0,data:e}},Yf=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Kf="",hy=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{ga(i,!1,l=>{r[o]=l,++s===n&&t(r.join(Kf))})})},py=(e,t)=>{const n=e.split(Kf),r=[];for(let s=0;s<n.length;s++){const i=ya(n[s],t);if(r.push(i),i.type==="error")break}return r};function my(){return new TransformStream({transform(e,t){uy(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let fo;function gs(e){return e.reduce((t,n)=>t+n.length,0)}function ys(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function gy(e,t){fo||(fo=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(gs(n)<1)break;const a=ys(n,1);i=(a[0]&128)===128,s=a[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(gs(n)<2)break;const a=ys(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(gs(n)<8)break;const a=ys(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(fl);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(gs(n)<s)break;const a=ys(n,s);l.enqueue(ya(i?a:fo.decode(a),t)),r=0}if(s===0||s>e){l.enqueue(fl);break}}}})}const Qf=4;function ae(e){if(e)return yy(e)}function yy(e){for(var t in ae.prototype)e[t]=ae.prototype[t];return e}ae.prototype.on=ae.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ae.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ae.prototype.off=ae.prototype.removeListener=ae.prototype.removeAllListeners=ae.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ae.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};ae.prototype.emitReserved=ae.prototype.emit;ae.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ae.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Oi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Qe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),vy="arraybuffer";function Xf(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const wy=Qe.setTimeout,xy=Qe.clearTimeout;function Pi(e,t){t.useNativeTimers?(e.setTimeoutFn=wy.bind(Qe),e.clearTimeoutFn=xy.bind(Qe)):(e.setTimeoutFn=Qe.setTimeout.bind(Qe),e.clearTimeoutFn=Qe.clearTimeout.bind(Qe))}const Sy=1.33;function Ey(e){return typeof e=="string"?_y(e):Math.ceil((e.byteLength||e.size)*Sy)}function _y(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Jf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ny(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Ty(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class ky extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class va extends ae{constructor(t){super(),this.writable=!1,Pi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new ky(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ya(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Ny(t);return n.length?"?"+n:""}}class Ry extends va{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};py(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hy(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Jf()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Zf=!1;try{Zf=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Cy=Zf;function Ay(){}class by extends Ry{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class vt extends ae{constructor(t,n,r){super(),this.createRequest=t,Pi(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Xf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=vt.requestsCount++,vt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ay,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete vt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}vt.requestsCount=0;vt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",sc);else if(typeof addEventListener=="function"){const e="onpagehide"in Qe?"pagehide":"unload";addEventListener(e,sc,!1)}}function sc(){for(let e in vt.requests)vt.requests.hasOwnProperty(e)&&vt.requests[e].abort()}const Ly=function(){const e=eh({xdomain:!1});return e&&e.responseType!==null}();class Oy extends by{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Ly&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new vt(eh,this.uri(),t)}}function eh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Cy))return new XMLHttpRequest}catch{}if(!t)try{return new Qe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const th=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Py extends va{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=th?{}:Xf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;ga(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Oi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Jf()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ho=Qe.WebSocket||Qe.MozWebSocket;class jy extends Py{createSocket(t,n,r){return th?new ho(t,n,r):n?new ho(t,n):new ho(t)}doWrite(t,n){this.ws.send(n)}}class Iy extends va{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=gy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=my();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Oi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const zy={websocket:jy,webtransport:Iy,polling:Oy},Dy=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Fy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Dy.exec(e||""),i={},o=14;for(;o--;)i[Fy[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=My(i,i.path),i.queryKey=Uy(i,i.query),i}function My(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Uy(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const pl=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ds=[];pl&&addEventListener("offline",()=>{Ds.forEach(e=>e())},!1);class Gt extends ae{constructor(t,n){if(super(),this.binaryType=vy,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=hl(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=hl(n.host).host);Pi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ty(this.opts.query)),pl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ds.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Qf,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Gt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Gt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Ey(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Oi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Gt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ds.indexOf(this._offlineEventListener);r!==-1&&Ds.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Gt.protocol=Qf;class By extends Gt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Gt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Gt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=m=>{const h=new Error("probe error: "+m);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function a(){o("socket closed")}function u(m){n&&m.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Vy=class extends By{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>zy[s]).filter(s=>!!s)),super(t,r)}};function $y(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=hl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Hy=typeof ArrayBuffer=="function",Wy=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,nh=Object.prototype.toString,Gy=typeof Blob=="function"||typeof Blob<"u"&&nh.call(Blob)==="[object BlobConstructor]",qy=typeof File=="function"||typeof File<"u"&&nh.call(File)==="[object FileConstructor]";function wa(e){return Hy&&(e instanceof ArrayBuffer||Wy(e))||Gy&&e instanceof Blob||qy&&e instanceof File}function Fs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Fs(e[n]))return!0;return!1}if(wa(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Fs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Fs(e[n]))return!0;return!1}function Yy(e){const t=[],n=e.data,r=e;return r.data=ml(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ml(e,t){if(!e)return e;if(wa(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ml(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ml(e[r],t));return n}return e}function Ky(e,t){return e.data=gl(e.data,t),delete e.attachments,e}function gl(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=gl(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=gl(e[n],t));return e}const Qy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var M;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(M||(M={}));class Xy{constructor(t){this.replacer=t}encode(t){return(t.type===M.EVENT||t.type===M.ACK)&&Fs(t)?this.encodeAsBinary({type:t.type===M.EVENT?M.BINARY_EVENT:M.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===M.BINARY_EVENT||t.type===M.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Yy(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class xa extends ae{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===M.BINARY_EVENT;r||n.type===M.BINARY_ACK?(n.type=r?M.EVENT:M.ACK,this.reconstructor=new Jy(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(wa(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(M[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===M.BINARY_EVENT||r.type===M.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(xa.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case M.CONNECT:return ic(n);case M.DISCONNECT:return n===void 0;case M.CONNECT_ERROR:return typeof n=="string"||ic(n);case M.EVENT:case M.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Qy.indexOf(n[0])===-1);case M.ACK:case M.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jy{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Ky(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ic(e){return Object.prototype.toString.call(e)==="[object Object]"}const Zy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:xa,Encoder:Xy,get PacketType(){return M}},Symbol.toStringTag,{value:"Module"}));function st(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ev=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rh extends ae{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[st(t,"open",this.onopen.bind(this)),st(t,"packet",this.onpacket.bind(this)),st(t,"error",this.onerror.bind(this)),st(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(ev.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:M.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,m=n.pop();this._registerAckCallback(d,m),o.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:M.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case M.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case M.EVENT:case M.BINARY_EVENT:this.onevent(t);break;case M.ACK:case M.BINARY_ACK:this.onack(t);break;case M.DISCONNECT:this.ondisconnect();break;case M.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:M.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:M.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Jn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Jn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Jn.prototype.reset=function(){this.attempts=0};Jn.prototype.setMin=function(e){this.ms=e};Jn.prototype.setMax=function(e){this.max=e};Jn.prototype.setJitter=function(e){this.jitter=e};class yl extends ae{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Pi(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Jn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Zy;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Vy(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=st(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=st(n,"error",i);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(st(t,"ping",this.onping.bind(this)),st(t,"data",this.ondata.bind(this)),st(t,"error",this.onerror.bind(this)),st(t,"close",this.onclose.bind(this)),st(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Oi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new rh(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ar={};function Ms(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=$y(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=ar[s]&&i in ar[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new yl(r,t):(ar[s]||(ar[s]=new yl(r,t)),a=ar[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Ms,{Manager:yl,Socket:rh,io:Ms,connect:Ms});const tv="http://localhost:3001";let xt=null;function sh(){return xt||(xt=Ms(tv,{transports:["websocket","polling"],withCredentials:!0}),xt.on("connect",()=>{console.log(" Socket connected:",xt==null?void 0:xt.id)}),xt.on("disconnect",()=>{console.log(" Socket disconnected")}),xt.on("connect_error",e=>{console.error("Socket connection error:",e)})),xt}function nv(e,t){const n=sh();n.emit("subscribe:leaderboard",e),n.on("leaderboard:update",r=>{r.levelId===e&&t(r)}),n.on("leaderboard:newScore",r=>{r.levelId===e&&t(r)})}function rv(e){const t=sh();t.emit("unsubscribe:leaderboard",e),t.off("leaderboard:update"),t.off("leaderboard:newScore")}const sv=()=>{const[e,t]=R.useState([]),[n,r]=R.useState(null),[s,i]=R.useState(null),[o,l]=R.useState(null),[a,u]=R.useState(!1),[d,m]=R.useState(null),h=R.useRef(null),v=R.useCallback(async(f,g=1,E=20)=>{var T,C;u(!0),m(null);try{const k=await Hg(f,g,E);t(k.entries),i(k.userRank),l(k.pagination)}catch(k){m(((C=(T=k.response)==null?void 0:T.data)==null?void 0:C.message)||"Failed to load leaderboard")}finally{u(!1)}},[]),y=R.useCallback(async f=>{var g,E,T;u(!0),m(null);try{const C=await Wg(f);r(C)}catch(C){((g=C.response)==null?void 0:g.status)!==401&&m(((T=(E=C.response)==null?void 0:E.data)==null?void 0:T.message)||"Failed to load personal best")}finally{u(!1)}},[]),w=R.useCallback(async f=>{var g,E;u(!0),m(null);try{await $f(f),await v(f.levelId),await y(f.levelId)}catch(T){throw m(((E=(g=T.response)==null?void 0:g.data)==null?void 0:E.message)||"Failed to submit score"),T}finally{u(!1)}},[v,y]),S=R.useCallback(f=>{h.current=f,nv(f,g=>{console.log(" Real-time leaderboard update:",g),g.entries?t(g.entries):g.score&&v(f)}),console.log(` Subscribed to real-time updates for level ${f}`)},[v]),p=R.useCallback(f=>{rv(f),h.current=null,console.log(` Unsubscribed from real-time updates for level ${f}`)},[]);return{entries:e,personalBest:n,userRank:s,pagination:o,isLoading:a,error:d,loadLeaderboard:v,loadPersonalBest:y,submitScoreToLeaderboard:w,subscribeToRealtimeUpdates:S,unsubscribeFromRealtimeUpdates:p}},iv=({onClose:e})=>{const[t,n]=R.useState("levels"),[r,s]=R.useState(1),[i,o]=R.useState(null),[l,a]=R.useState(!1),{entries:u,personalBest:d,isLoading:m,loadLeaderboard:h,loadPersonalBest:v,subscribeToRealtimeUpdates:y,unsubscribeFromRealtimeUpdates:w}=sv();return R.useEffect(()=>{if(t==="levels")return h(r),v(r),y(r),()=>{w(r)};a(!0),Gg().then(S=>{o(S),a(!1)}).catch(()=>a(!1))},[r,t]),c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:" Leaderboard"}),c.jsx("span",{className:"text-xs text-cyan-400 animate-pulse",children:" Live"})]}),c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:""})]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("button",{onClick:()=>n("levels"),className:`px-3 py-1 rounded text-sm transition-colors ${t==="levels"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"By Level"}),c.jsx("button",{onClick:()=>n("global"),className:`px-3 py-1 rounded text-sm transition-colors ${t==="global"?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" Global Stats"})]}),t==="levels"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex gap-2 mb-4",children:[1,2,3].map(S=>c.jsxs("button",{onClick:()=>s(S),className:`px-3 py-1 rounded text-sm transition-colors ${r===S?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Level ",S]},S))}),d&&c.jsxs("div",{className:"mb-4 p-3 bg-amber-900/30 border border-amber-500/30 rounded",children:[c.jsx("h3",{className:"text-amber-400 font-bold text-sm mb-1",children:"Your Best"}),c.jsxs("div",{className:"text-white",children:["Score: ",d.score," | Waves: ",d.wavesSurvived," | Rank: #",d.rank]})]}),m?c.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading..."}):c.jsx("div",{className:"space-y-2",children:u.length===0?c.jsx("div",{className:"text-center py-8 text-slate-400",children:"No scores yet for this level. Be the first!"}):u.map((S,p)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded ${p===0?"bg-yellow-500/20 border border-yellow-500/50":p===1?"bg-slate-400/20 border border-slate-400/50":p===2?"bg-amber-700/20 border border-amber-700/50":"bg-slate-700/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold ${p===0?"bg-yellow-500 text-black":p===1?"bg-slate-300 text-black":p===2?"bg-amber-600 text-white":"bg-slate-600 text-white"}`,children:S.rank}),c.jsx("span",{className:"text-white font-medium",children:S.username})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-cyan-400 font-bold",children:[S.score.toLocaleString()," pts"]}),c.jsxs("div",{className:"text-slate-400 text-sm",children:[S.wavesSurvived," waves  ",S.goldRemaining," gold"]})]})]},S.id))}),c.jsx("div",{className:"mt-4 text-center text-slate-500 text-xs",children:"Updates automatically when new scores are submitted"})]}):c.jsx("div",{children:l?c.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading global stats..."}):i?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-slate-700/50 rounded p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:i.stats.totalPlayers}),c.jsx("div",{className:"text-slate-400 text-sm",children:"Total Players"})]}),c.jsxs("div",{className:"bg-slate-700/50 rounded p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.stats.totalGames}),c.jsx("div",{className:"text-slate-400 text-sm",children:"Total Games"})]}),c.jsxs("div",{className:"bg-slate-700/50 rounded p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-amber-400",children:i.stats.totalWaves}),c.jsx("div",{className:"text-slate-400 text-sm",children:"Total Waves"})]})]}),c.jsx("h3",{className:"text-white font-bold mt-4",children:"Top Players by Waves Cleared"}),i.topPlayers.map((S,p)=>c.jsxs("div",{className:"flex justify-between p-2 bg-slate-700/30 rounded",children:[c.jsxs("span",{className:"text-white",children:[p+1,". ",S.username]}),c.jsxs("span",{className:"text-cyan-400",children:[S.wavesCleared," waves"]})]},p))]}):c.jsx("div",{className:"text-center py-8 text-slate-400",children:"Could not load global stats."})})]})})};function ov(){const{user:e,isAuthenticated:t,signIn:n,logout:r}=Mm(),[s,i]=R.useState(!1),[o,l]=R.useState(!1),[a,u]=R.useState(!1),[d,m]=R.useState(!1),h={maxWidth:`${_e*A}px`};return c.jsxs("div",{className:"relative w-screen h-screen overflow-hidden bg-[#020617]",style:{"--tile-size":`${A}px`},children:[c.jsx(ty,{onGameStateChange:m}),!d&&c.jsxs("div",{className:"absolute top-0 left-0 right-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 py-2 sm:py-3 mx-auto transition-all duration-300",style:h,children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[c.jsxs("h1",{className:"text-white font-bold text-sm sm:text-base lg:text-lg truncate",children:[" ",c.jsx("span",{className:"hidden sm:inline",children:"Clash Defense Cloud"}),c.jsx("span",{className:"sm:hidden",children:"Clash Defense"})]}),t&&e&&c.jsxs("span",{className:"text-cyan-400 text-xs sm:text-sm truncate hidden xs:inline",children:["Welcome, ",e.firstName||e.email.split("@")[0]]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[c.jsx("button",{onClick:()=>i(!0),className:"px-3 py-1.5 bg-blue-600/80 hover:bg-blue-500 text-white text-sm rounded border border-blue-400/50 transition-all hover:scale-105 active:scale-95",children:" Cloud Save"}),c.jsx("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-amber-600/80 hover:bg-amber-500 text-white text-sm rounded border border-amber-400/50 transition-all hover:scale-105 active:scale-95",children:" Leaderboard"}),t?c.jsx("button",{onClick:r,className:"px-3 py-1.5 bg-red-600/80 hover:bg-red-500 text-white text-sm rounded border border-red-400/50 transition-all hover:scale-105 active:scale-95",children:"Logout"}):c.jsx("button",{onClick:()=>n(),className:"px-3 py-1.5 bg-cyan-600/80 hover:bg-cyan-500 text-white text-sm rounded border border-cyan-400/50 transition-all hover:scale-105 active:scale-95",children:"Login / Register"})]}),c.jsx("button",{onClick:()=>u(!a),className:"md:hidden p-2 text-white hover:bg-white/10 rounded transition-colors","aria-label":"Toggle menu",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),a&&c.jsx("div",{className:"md:hidden border-t border-white/10 bg-slate-900/95 backdrop-blur-md animate-slide-down",children:c.jsxs("div",{className:"px-3 py-2 space-y-2",children:[c.jsxs("button",{onClick:()=>{i(!0),u(!1)},className:"w-full px-4 py-3 bg-blue-600/80 hover:bg-blue-500 text-white text-sm rounded border border-blue-400/50 transition-colors flex items-center gap-2",children:[c.jsx("span",{children:""})," Cloud Save"]}),c.jsxs("button",{onClick:()=>{l(!0),u(!1)},className:"w-full px-4 py-3 bg-amber-600/80 hover:bg-amber-500 text-white text-sm rounded border border-amber-400/50 transition-colors flex items-center gap-2",children:[c.jsx("span",{children:""})," Leaderboard"]}),t?c.jsxs("button",{onClick:()=>{r(),u(!1)},className:"w-full px-4 py-3 bg-red-600/80 hover:bg-red-500 text-white text-sm rounded border border-red-400/50 transition-colors flex items-center gap-2",children:[c.jsx("span",{children:""})," Logout"]}):c.jsxs("button",{onClick:()=>{n(),u(!1)},className:"w-full px-4 py-3 bg-cyan-600/80 hover:bg-cyan-500 text-white text-sm rounded border border-cyan-400/50 transition-colors flex items-center gap-2",children:[c.jsx("span",{children:""})," Login / Register"]})]})})]}),s&&c.jsx(ay,{onClose:()=>i(!1),isAuthenticated:t}),o&&c.jsx(iv,{onClose:()=>l(!1)})]})}po.createRoot(document.getElementById("root")).render(c.jsx(_h.StrictMode,{children:c.jsx(ov,{})}));
